<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="UTF-8"/>
<meta name="viewport" content="width=device-width, initial-scale=1.0"/>
<title>JimmyFiles ‚Äî Something is Wrong</title>
<style>
@import url('https://fonts.googleapis.com/css2?family=Special+Elite&family=Creepster&family=Share+Tech+Mono&family=Oswald:wght@700&display=swap');

:root {
  --bg-deep: #0a0a0a;
  --bg-panel: #111210;
  --bg-paper: #1a1916;
  --ink: #c9b99a;
  --ink-dim: #6b6358;
  --ink-red: #8b2020;
  --ink-red-bright: #d44;
  --ink-green: #3a6b3a;
  --ink-green-bright: #5c5;
  --shadow-color: rgba(0,0,0,0.7);
  --border-worn: #2a2520;
  --accent-amber: #c49a3a;
}

* { margin:0; padding:0; box-sizing:border-box; }

html, body {
  width:100%; min-height:100%;
  background: var(--bg-deep);
  color: var(--ink);
  font-family: 'Share Tech Mono', monospace;
  overflow-x: hidden;
  cursor: url('data:image/svg+xml,<svg xmlns="http://www.w3.org/2000/svg" width="24" height="24"><circle cx="12" cy="12" r="4" fill="%23c9b99a"/><circle cx="12" cy="12" r="2" fill="%23111"/></svg>') 12 12, crosshair;
}

/* ‚îÄ‚îÄ‚îÄ SCANLINE OVERLAY ‚îÄ‚îÄ‚îÄ */
body::after {
  content:'';
  position:fixed; inset:0; z-index:9999;
  pointer-events:none;
  background: repeating-linear-gradient(
    0deg,
    transparent,
    transparent 2px,
    rgba(0,0,0,0.15) 2px,
    rgba(0,0,0,0.15) 4px
  );
}

/* ‚îÄ‚îÄ‚îÄ NOISE GRAIN ‚îÄ‚îÄ‚îÄ */
body::before {
  content:'';
  position:fixed; inset:0; z-index:9998;
  pointer-events:none;
  opacity:0.035;
  background-image: url("data:image/svg+xml,%3Csvg viewBox='0 0 256 256' xmlns='http://www.w3.org/2000/svg'%3E%3Cfilter id='n'%3E%3CfeTurbulence type='fractalNoise' baseFrequency='0.9' numOctaves='4' stitchTiles='stitch'/%3E%3C/filter%3E%3Crect width='100%25' height='100%25' filter='url(%23n)' opacity='1'/%3E%3C/svg%3E");
  background-size:256px 256px;
}

/* ‚îÄ‚îÄ‚îÄ VIGNETTE ‚îÄ‚îÄ‚îÄ */
.vignette {
  position:fixed; inset:0; z-index:9997;
  pointer-events:none;
  background: radial-gradient(ellipse at center, transparent 40%, rgba(0,0,0,0.75) 100%);
}

/* ‚îÄ‚îÄ‚îÄ HEADER / MASTHEAD ‚îÄ‚îÄ‚îÄ */
.masthead {
  position:relative;
  text-align:center;
  padding: 48px 20px 30px;
  border-bottom: 3px solid var(--border-worn);
  background:
    linear-gradient(180deg, #0d0c0a 0%, #151410 60%, var(--bg-panel) 100%);
  box-shadow: 0 8px 40px var(--shadow-color);
  overflow:hidden;
}
.masthead::before {
  content:'';
  position:absolute; inset:0;
  background: url("data:image/svg+xml,%3Csvg width='100' height='100' viewBox='0 0 100 100' xmlns='http://www.w3.org/2000/svg'%3E%3Cfilter id='n'%3E%3CfeTurbulence type='fractalNoise' baseFrequency='0.05' numOctaves='2'/%3E%3C/filter%3E%3Crect width='100' height='100' filter='url(%23n)' opacity='0.08'/%3E%3C/svg%3E");
  opacity:0.5;
}
.masthead-logo {
  position:relative; z-index:2;
  font-family:'Creepster',cursive;
  font-size: clamp(42px, 8vw, 88px);
  letter-spacing: -2px;
  color: var(--ink);
  text-shadow:
    0 0 8px rgba(201,185,154,0.3),
    3px 3px 0 #000,
    4px 4px 0 #000,
    0 0 60px rgba(139,32,32,0.25);
  animation: flicker 4s infinite;
}
.masthead-logo span { color: var(--ink-red-bright); }
.masthead-sub {
  position:relative; z-index:2;
  font-family:'Special Elite',cursive;
  font-size:15px;
  color: var(--ink-dim);
  margin-top:8px;
  letter-spacing:4px;
  text-transform:uppercase;
}
.masthead-warning {
  position:relative; z-index:2;
  margin-top:18px;
  display:inline-block;
  background: #1f1a15;
  border: 2px solid var(--ink-red);
  padding: 8px 22px;
  font-size:13px;
  color: var(--ink-red-bright);
  font-family:'Special Elite',cursive;
  letter-spacing:1px;
  box-shadow: 0 0 18px rgba(139,32,32,0.4), inset 0 0 10px rgba(139,32,32,0.08);
  animation: pulse-border 2.5s ease-in-out infinite;
}

/* ‚îÄ‚îÄ‚îÄ NAV ‚îÄ‚îÄ‚îÄ */
nav {
  background: #0f0e0c;
  border-bottom: 2px solid var(--border-worn);
  padding: 0;
  text-align:center;
  box-shadow: 0 4px 20px var(--shadow-color);
  position:sticky; top:0; z-index:100;
}
nav a {
  display:inline-block;
  color: var(--ink-dim);
  text-decoration:none;
  padding: 14px 22px;
  font-family:'Special Elite',cursive;
  font-size:14px;
  letter-spacing:2px;
  text-transform:uppercase;
  border-right: 1px solid var(--border-worn);
  transition: color .2s, background .2s, text-shadow .2s;
}
nav a:last-child { border-right:none; }
nav a:hover {
  color: var(--ink);
  background: rgba(201,185,154,0.04);
  text-shadow: 0 0 10px rgba(201,185,154,0.4);
}
nav a.active {
  color: var(--ink-red-bright);
  text-shadow: 0 0 12px rgba(212,68,68,0.5);
}

/* ‚îÄ‚îÄ‚îÄ LAYOUT ‚îÄ‚îÄ‚îÄ */
.site-body {
  display:flex;
  max-width:1400px;
  margin: 0 auto;
  padding: 30px 18px;
  gap: 28px;
}
.sidebar {
  width:260px;
  flex-shrink:0;
}
.main-content { flex:1; min-width:0; }

/* ‚îÄ‚îÄ‚îÄ PANELS (bulky card style) ‚îÄ‚îÄ‚îÄ */
.panel {
  background: var(--bg-panel);
  border: 2px solid var(--border-worn);
  border-radius: 4px;
  margin-bottom:22px;
  box-shadow:
    0 6px 24px var(--shadow-color),
    inset 0 1px 0 rgba(201,185,154,0.06);
  overflow:hidden;
  position:relative;
}
.panel-header {
  background: linear-gradient(135deg, #1c1815 0%, #141210 100%);
  border-bottom: 2px solid var(--border-worn);
  padding: 12px 18px;
  display:flex; align-items:center; gap:10px;
  box-shadow: 0 2px 8px var(--shadow-color);
}
.panel-header .dots {
  display:flex; gap:6px;
}
.panel-header .dots span {
  width:12px; height:12px;
  border-radius:50%;
  background:#2a2520;
  box-shadow: inset 0 1px 2px rgba(0,0,0,0.6);
}
.panel-header .dots span:nth-child(1) { background:#5c2020; box-shadow: 0 0 6px #5c2020; }
.panel-header .dots span:nth-child(2) { background:#4a4020; box-shadow: 0 0 6px #4a4020; }
.panel-header .dots span:nth-child(3) { background:#204a20; box-shadow: 0 0 6px #204a20; }
.panel-title {
  font-family:'Oswald',sans-serif;
  font-size:14px;
  color:var(--ink);
  text-transform:uppercase;
  letter-spacing:2px;
}
.panel-body { padding:18px; }

/* ‚îÄ‚îÄ‚îÄ SIDEBAR LINKS ‚îÄ‚îÄ‚îÄ */
.sidebar-link {
  display:block;
  padding: 11px 14px;
  border-bottom: 1px solid var(--border-worn);
  color: var(--ink-dim);
  text-decoration:none;
  font-size:13px;
  font-family:'Special Elite',cursive;
  transition: color .2s, background .2s, padding-left .2s;
  position:relative;
}
.sidebar-link:hover {
  color: var(--ink);
  background: rgba(201,185,154,0.03);
  padding-left:20px;
}
.sidebar-link.redlink { color: var(--ink-red); }
.sidebar-link.redlink:hover { color: var(--ink-red-bright); text-shadow: 0 0 8px rgba(212,68,68,0.4); }

/* ‚îÄ‚îÄ‚îÄ WIKI ARTICLE TEXT ‚îÄ‚îÄ‚îÄ */
.wiki-text {
  font-family:'Special Elite',cursive;
  font-size:14px;
  line-height:1.75;
  color: var(--ink);
}
.wiki-text p { margin-bottom:14px; }
.wiki-text .highlight {
  color: var(--ink-red-bright);
  font-weight:700;
  text-shadow: 0 0 6px rgba(212,68,68,0.35);
}
.wiki-text .note {
  background: rgba(139,32,32,0.08);
  border-left: 3px solid var(--ink-red);
  padding: 10px 14px;
  margin: 16px 0;
  font-size:13px;
  color: var(--ink-dim);
}
.wiki-text .note strong { color:var(--ink-red-bright); }
.wiki-text .evidence-tag {
  display:inline-block;
  background: rgba(58,107,58,0.15);
  border: 1px solid var(--ink-green);
  color: var(--ink-green-bright);
  font-size:11px;
  padding: 2px 8px;
  border-radius:2px;
  margin-left:4px;
  letter-spacing:1px;
  vertical-align:middle;
}

/* ‚îÄ‚îÄ‚îÄ INFOBOX ‚îÄ‚îÄ‚îÄ */
.infobox {
  float:right;
  width:240px;
  background:#131210;
  border: 2px solid var(--border-worn);
  margin: 0 0 18px 22px;
  box-shadow: 0 8px 30px var(--shadow-color), 0 0 0 1px rgba(201,185,154,0.05);
  font-size:13px;
}
.infobox-head {
  background: linear-gradient(135deg, #1f1a14, #161412);
  text-align:center;
  padding: 14px 10px;
  font-family:'Oswald',sans-serif;
  font-size:16px;
  color:var(--ink);
  letter-spacing:2px;
  text-transform:uppercase;
  border-bottom: 2px solid var(--border-worn);
  text-shadow: 0 0 10px rgba(201,185,154,0.2);
}
.infobox-img {
  width:100%;
  height:160px;
  position:relative;
  overflow:hidden;
  background:#0e0d0b;
  border-bottom: 2px solid var(--border-worn);
}
.infobox-img .placeholder-img {
  width:100%; height:100%;
  display:flex; align-items:center; justify-content:center;
}
.infobox table { width:100%; border-collapse:collapse; }
.infobox td {
  padding: 7px 10px;
  border-bottom: 1px solid var(--border-worn);
  vertical-align:top;
}
.infobox td:first-child {
  color:var(--ink-dim);
  font-weight:700;
  width:45%;
  font-family:'Oswald',sans-serif;
  text-transform:uppercase;
  font-size:11px;
  letter-spacing:1px;
}

/* ‚îÄ‚îÄ‚îÄ REALISTIC SVG PORTRAITS ‚îÄ‚îÄ‚îÄ */
.portrait-jimmy {
  width:100%; height:100%;
  position:relative;
}
.portrait-jimmy svg { width:100%; height:100%; }

/* ‚îÄ‚îÄ‚îÄ DRAGGABLE EVIDENCE SYSTEM ‚îÄ‚îÄ‚îÄ */
#evidence-board {
  position:relative;
  background: #0f0e0c;
  border: 2px dashed var(--border-worn);
  border-radius:6px;
  min-height:420px;
  padding:16px;
  overflow:hidden;
}
#evidence-board::before {
  content:'DRAG PIECES TO CONNECT THE DOTS';
  position:absolute;
  top:50%; left:50%;
  transform:translate(-50%,-50%);
  font-family:'Creepster',cursive;
  font-size:22px;
  color:rgba(201,185,154,0.06);
  white-space:nowrap;
  pointer-events:none;
  letter-spacing:4px;
}
.evidence-piece {
  position:absolute;
  background: var(--bg-paper);
  border: 2px solid var(--border-worn);
  border-radius:3px;
  padding:12px 14px;
  box-shadow:
    0 4px 16px var(--shadow-color),
    0 1px 3px rgba(0,0,0,0.5),
    inset 0 1px 0 rgba(201,185,154,0.07);
  cursor:grab;
  user-select:none;
  -webkit-user-select:none;
  font-family:'Special Elite',cursive;
  font-size:12px;
  color:var(--ink);
  max-width:170px;
  z-index:2;
  transition: box-shadow .15s;
  /* tape strip */
}
.evidence-piece:active { cursor:grabbing; }
.evidence-piece:hover {
  box-shadow:
    0 6px 28px rgba(0,0,0,0.8),
    0 0 12px rgba(201,185,154,0.08),
    inset 0 1px 0 rgba(201,185,154,0.1);
  z-index:50 !important;
}
.evidence-piece .tape {
  position:absolute;
  top:-8px; left:50%;
  transform:translateX(-50%);
  width:60px; height:18px;
  background: rgba(180,165,130,0.45);
  border-radius:2px;
  box-shadow: 0 2px 4px rgba(0,0,0,0.4);
}
.evidence-piece .tape-left {
  top:-6px; left:-10px; transform:rotate(-12deg);
  width:50px; height:16px;
}
.evidence-piece .tape-right {
  top:-6px; right:-10px; left:auto; transform:rotate(14deg) translateX(0);
  width:50px; height:16px;
}
.evidence-piece .piece-label {
  font-family:'Oswald',sans-serif;
  font-size:10px;
  color: var(--ink-dim);
  text-transform:uppercase;
  letter-spacing:2px;
  margin-bottom:5px;
  border-bottom:1px solid var(--border-worn);
  padding-bottom:4px;
}
.evidence-piece .piece-img {
  width:100%;
  height:70px;
  background:#0e0d0b;
  border:1px solid var(--border-worn);
  margin-bottom:6px;
  display:flex; align-items:center; justify-content:center;
  overflow:hidden;
}
.evidence-piece.red-stamp { border-color: var(--ink-red); }
.evidence-piece.red-stamp .piece-label { color:var(--ink-red-bright); border-color:var(--ink-red); }

/* ‚îÄ‚îÄ‚îÄ STRING CONNECTIONS (SVG overlay) ‚îÄ‚îÄ‚îÄ */
#string-layer {
  position:absolute; inset:0;
  pointer-events:none; z-index:1;
  width:100%; height:100%;
}

/* ‚îÄ‚îÄ‚îÄ PUZZLE LOCK ‚îÄ‚îÄ‚îÄ */
.puzzle-lock {
  background:#121110;
  border:2px solid var(--border-worn);
  border-radius:6px;
  padding:22px;
  margin-top:20px;
  box-shadow: 0 6px 24px var(--shadow-color);
  text-align:center;
}
.puzzle-lock h3 {
  font-family:'Creepster',cursive;
  font-size:20px;
  color: var(--ink-red-bright);
  margin-bottom:10px;
  text-shadow: 0 0 10px rgba(212,68,68,0.3);
}
.puzzle-lock p {
  font-family:'Special Elite',cursive;
  font-size:13px;
  color:var(--ink-dim);
  margin-bottom:16px;
}
.code-input-row { display:flex; gap:8px; justify-content:center; flex-wrap:wrap; }
.code-digit {
  width:46px; height:62px;
  background:#0f0e0c;
  border:2px solid var(--border-worn);
  border-radius:4px;
  text-align:center;
  font-family:'Creepster',cursive;
  font-size:28px;
  color:var(--ink);
  caret-color: var(--ink-red-bright);
  box-shadow: inset 0 3px 8px rgba(0,0,0,0.6), 0 2px 4px rgba(0,0,0,0.4);
  outline:none;
  transition: border-color .2s, box-shadow .2s;
}
.code-digit:focus {
  border-color: var(--accent-amber);
  box-shadow: inset 0 3px 8px rgba(0,0,0,0.6), 0 0 10px rgba(196,154,58,0.25);
}
.submit-btn {
  display:block; margin:18px auto 0;
  background: linear-gradient(135deg, #2a1e1e, #1a1212);
  border: 2px solid var(--ink-red);
  color: var(--ink-red-bright);
  font-family:'Oswald',sans-serif;
  font-size:15px;
  letter-spacing:3px;
  text-transform:uppercase;
  padding: 10px 36px;
  border-radius:4px;
  cursor:pointer;
  box-shadow: 0 4px 14px rgba(139,32,32,0.3);
  transition: box-shadow .2s, background .2s;
}
.submit-btn:hover {
  background: linear-gradient(135deg, #3a2525, #241818);
  box-shadow: 0 4px 22px rgba(139,32,32,0.5);
}
.puzzle-feedback {
  margin-top:12px;
  font-family:'Special Elite',cursive;
  font-size:14px;
  min-height:20px;
  text-align:center;
}
.puzzle-feedback.wrong { color:var(--ink-red-bright); animation:shake .4s; }
.puzzle-feedback.right { color:var(--ink-green-bright); }

/* ‚îÄ‚îÄ‚îÄ TIMELINE ‚îÄ‚îÄ‚îÄ */
.timeline { position:relative; padding-left:30px; }
.timeline::before {
  content:'';
  position:absolute; left:12px; top:0; bottom:0;
  width:2px;
  background: linear-gradient(180deg, var(--ink-red), var(--border-worn), var(--ink-red));
}
.timeline-item { position:relative; margin-bottom:22px; }
.timeline-item::before {
  content:'';
  position:absolute;
  left:-24px; top:8px;
  width:14px; height:14px;
  border-radius:50%;
  background:#1a1916;
  border:2px solid var(--ink-red);
  box-shadow: 0 0 8px rgba(139,32,32,0.4);
}
.timeline-date {
  font-family:'Oswald',sans-serif;
  font-size:11px;
  color:var(--ink-red-bright);
  letter-spacing:2px;
  text-transform:uppercase;
  margin-bottom:4px;
}
.timeline-desc {
  font-family:'Special Elite',cursive;
  font-size:13px;
  color:var(--ink-dim);
  line-height:1.6;
}

/* ‚îÄ‚îÄ‚îÄ GLITCH FLICKER ‚îÄ‚îÄ‚îÄ */
@keyframes flicker {
  0%,100%{ opacity:1; }
  92%{ opacity:1; }
  93%{ opacity:.7; }
  94%{ opacity:1; }
  96%{ opacity:.85; }
  97%{ opacity:1; }
}
@keyframes pulse-border {
  0%,100%{ box-shadow: 0 0 18px rgba(139,32,32,0.4), inset 0 0 10px rgba(139,32,32,0.08); }
  50%{ box-shadow: 0 0 28px rgba(139,32,32,0.6), inset 0 0 16px rgba(139,32,32,0.12); }
}
@keyframes shake {
  0%,100%{ transform:translateX(0); }
  20%{ transform:translateX(-8px); }
  40%{ transform:translateX(8px); }
  60%{ transform:translateX(-5px); }
  80%{ transform:translateX(5px); }
}
@keyframes glitch-text {
  0%,100%{ text-shadow: 0 0 8px rgba(201,185,154,0.3), 3px 3px 0 #000; }
  25%{ text-shadow: -2px 0 rgba(212,68,68,0.6), 2px 0 rgba(58,107,58,0.4), 3px 3px 0 #000; }
  50%{ text-shadow: 0 0 8px rgba(201,185,154,0.3), 3px 3px 0 #000; }
  75%{ text-shadow: 2px 0 rgba(212,68,68,0.5), -2px 0 rgba(58,107,58,0.3), 3px 3px 0 #000; }
}

/* ‚îÄ‚îÄ‚îÄ STAMP DECORATIONS ‚îÄ‚îÄ‚îÄ */
.stamp {
  display:inline-block;
  border: 3px solid;
  padding: 4px 12px;
  font-family:'Oswald',sans-serif;
  font-size:13px;
  letter-spacing:3px;
  text-transform:uppercase;
  transform: rotate(-3deg);
  opacity:0.85;
  box-shadow: 0 2px 8px rgba(0,0,0,0.4);
}
.stamp-red { border-color:var(--ink-red); color:var(--ink-red-bright); background:rgba(139,32,32,0.08); }
.stamp-green { border-color:var(--ink-green); color:var(--ink-green-bright); background:rgba(58,107,58,0.08); }

/* ‚îÄ‚îÄ‚îÄ FOOTER ‚îÄ‚îÄ‚îÄ */
footer {
  text-align:center;
  padding:40px 20px;
  border-top: 1px solid var(--border-worn);
  margin-top:30px;
}
footer p {
  font-family:'Special Elite',cursive;
  font-size:12px;
  color:var(--ink-dim);
  line-height:1.8;
}
footer .footer-glitch { animation:flicker 6s infinite; }

/* ‚îÄ‚îÄ‚îÄ RESPONSIVE ‚îÄ‚îÄ‚îÄ */
@media(max-width:820px){
  .site-body { flex-direction:column; }
  .sidebar { width:100%; }
  .infobox { float:none; width:100%; margin:0 0 18px; }
}

/* ‚îÄ‚îÄ‚îÄ REVEAL ANIMATIONS ‚îÄ‚îÄ‚îÄ */
.reveal { opacity:0; transform:translateY(12px); transition: opacity .6s, transform .6s; }
.reveal.visible { opacity:1; transform:translateY(0); }

/* ‚îÄ‚îÄ‚îÄ ACTIVE PAGE SECTIONS ‚îÄ‚îÄ‚îÄ */
.page-section { display:none; }
.page-section.active { display:block; }

/* ‚îÄ‚îÄ‚îÄ CURSOR TRAIL ‚îÄ‚îÄ‚îÄ */
.cursor-dot {
  position:fixed;
  width:6px; height:6px;
  border-radius:50%;
  background:rgba(212,68,68,0.5);
  pointer-events:none;
  z-index:9996;
  transition: transform .05s;
  box-shadow: 0 0 6px rgba(212,68,68,0.4);
}

/* ‚îÄ‚îÄ‚îÄ AMBIENT AUDIO TOGGLE ‚îÄ‚îÄ‚îÄ */
.audio-btn {
  position:fixed;
  bottom:24px; right:24px;
  z-index:200;
  width:48px; height:48px;
  border-radius:50%;
  background:#131210;
  border:2px solid var(--border-worn);
  color:var(--ink-dim);
  font-size:20px;
  cursor:pointer;
  display:flex; align-items:center; justify-content:center;
  box-shadow: 0 4px 16px var(--shadow-color);
  transition: border-color .2s, color .2s;
}
.audio-btn:hover { border-color:var(--accent-amber); color:var(--ink); }

/* ‚îÄ‚îÄ‚îÄ MINIGAME STYLES ‚îÄ‚îÄ‚îÄ */
.wave-segment polyline { transition: stroke 0.2s; }
.wave-segment:hover polyline { stroke: var(--accent-amber); stroke-width:3; }
.wave-segment.selected polyline { stroke: var(--ink-red-bright); stroke-width:3; }
.wave-segment.correct polyline { stroke: var(--ink-green-bright); stroke-width:3; }

.memory-card {
  aspect-ratio: 1;
  background: var(--bg-panel);
  border: 2px solid var(--border-worn);
  border-radius: 4px;
  cursor: pointer;
  position: relative;
  overflow: hidden;
  transition: transform 0.3s, border-color 0.2s;
  box-shadow: 0 2px 8px var(--shadow-color);
}
.memory-card:hover { transform: translateY(-4px); border-color: var(--accent-amber); }
.memory-card.flipped { border-color: var(--ink-red); }
.memory-card.matched { border-color: var(--ink-green); opacity: 0.6; cursor: default; }
.memory-card .card-back {
  position: absolute;
  inset: 0;
  display: flex;
  align-items: center;
  justify-content: center;
  font-family: 'Creepster', cursive;
  font-size: 32px;
  color: var(--ink-dim);
  background: linear-gradient(135deg, #1a1916, #121110);
}
.memory-card .card-front {
  position: absolute;
  inset: 0;
  display: none;
  align-items: center;
  justify-content: center;
  font-size: 36px;
  background: var(--bg-paper);
}
.memory-card.flipped .card-back { display: none; }
.memory-card.flipped .card-front { display: flex; }

.lab-switch {
  text-align: center;
}
.switch-panel {
  width: 80px;
  height: 120px;
  background: #0f0e0c;
  border: 2px solid var(--border-worn);
  border-radius: 4px;
  position: relative;
  margin-bottom: 12px;
  overflow: hidden;
  box-shadow: inset 0 2px 8px rgba(0,0,0,0.6);
}
.power-meter {
  position: absolute;
  bottom: 0;
  left: 0;
  right: 0;
  background: linear-gradient(180deg, var(--ink-green-bright), var(--ink-green));
  transition: background 0.3s;
  box-shadow: 0 0 12px rgba(58,107,58,0.4);
}
.power-meter.active {
  background: linear-gradient(180deg, var(--ink-red-bright), var(--ink-red));
  box-shadow: 0 0 12px rgba(139,32,32,0.6);
}
.power-label {
  position: absolute;
  top: 50%;
  left: 50%;
  transform: translate(-50%, -50%);
  font-family: 'Oswald', sans-serif;
  font-size: 14px;
  color: var(--ink);
  text-shadow: 0 0 4px #000;
  z-index: 2;
}
.switch-btn {
  padding: 8px 16px;
  background: linear-gradient(135deg, #1a1916, #141210);
  border: 2px solid var(--border-worn);
  color: var(--ink-dim);
  font-family: 'Oswald', sans-serif;
  font-size: 12px;
  letter-spacing: 2px;
  cursor: pointer;
  border-radius: 4px;
  transition: all 0.2s;
  box-shadow: 0 2px 6px var(--shadow-color);
}
.switch-btn:hover {
  border-color: var(--accent-amber);
  color: var(--ink);
}
.switch-btn.active {
  background: linear-gradient(135deg, #2a1e1e, #1a1212);
  border-color: var(--ink-red);
  color: var(--ink-red-bright);
  box-shadow: 0 0 12px rgba(139,32,32,0.4);
}

/* ‚îÄ‚îÄ‚îÄ CLICKABLE SECRETS ‚îÄ‚îÄ‚îÄ */
.clickable-secret {
  cursor: pointer !important;
  pointer-events: all !important;
  position: relative;
}
.clickable-secret::after {
  content: 'üëÅ';
  position: absolute;
  right: 10px;
  opacity: 0;
  transition: opacity 0.2s;
  font-size: 12px;
}
.clickable-secret:hover::after {
  opacity: 0.3;
}

.secret-modal {
  position: fixed;
  inset: 0;
  background: rgba(0,0,0,0.92);
  z-index: 10000;
  display: none;
  align-items: center;
  justify-content: center;
  padding: 20px;
  animation: fadeIn 0.3s;
}
.secret-modal.visible { display: flex; }
.secret-content {
  background: var(--bg-panel);
  border: 3px solid var(--ink-red);
  border-radius: 6px;
  padding: 30px;
  max-width: 600px;
  max-height: 80vh;
  overflow-y: auto;
  box-shadow: 0 8px 40px rgba(139,32,32,0.5), 0 0 0 1px rgba(201,185,154,0.1);
  position: relative;
}
.secret-close {
  position: absolute;
  top: 12px;
  right: 12px;
  background: none;
  border: none;
  color: var(--ink-dim);
  font-size: 24px;
  cursor: pointer;
  padding: 4px 8px;
  transition: color 0.2s;
}
.secret-close:hover { color: var(--ink-red-bright); }

@keyframes fadeIn {
  from { opacity: 0; }
  to { opacity: 1; }
}

/* ‚îÄ‚îÄ‚îÄ HIDDEN CLICKABLE TEXT ‚îÄ‚îÄ‚îÄ */
.hidden-clue {
  cursor: help;
  border-bottom: 1px dotted rgba(201,185,154,0.3);
  transition: all 0.2s;
}
.hidden-clue:hover {
  color: var(--accent-amber);
  border-bottom-color: var(--accent-amber);
}

/* ‚îÄ‚îÄ‚îÄ GLITCHY HOVER EFFECTS ‚îÄ‚îÄ‚îÄ */
.glitch-on-hover {
  transition: all 0.1s;
}
.glitch-on-hover:hover {
  animation: glitch-hover 0.3s;
}
@keyframes glitch-hover {
  0%, 100% { transform: translate(0); }
  20% { transform: translate(-2px, 2px); }
  40% { transform: translate(2px, -2px); }
  60% { transform: translate(-1px, -1px); }
  80% { transform: translate(1px, 1px); }
}

/* ‚îÄ‚îÄ‚îÄ OMEGA PUZZLE ‚îÄ‚îÄ‚îÄ */
.omega-digit {
  width:42px; height:58px;
  background:#0f0e0c;
  border:2px solid var(--ink-red);
  border-radius:4px;
  text-align:center;
  font-family:'Creepster',cursive;
  font-size:26px;
  color:var(--ink-red-bright);
  caret-color: var(--ink-red-bright);
  box-shadow: inset 0 3px 8px rgba(139,32,32,0.3), 0 2px 4px rgba(0,0,0,0.4), 0 0 10px rgba(139,32,32,0.2);
  outline:none;
  transition: border-color .2s, box-shadow .2s;
}
.omega-digit:focus {
  border-color: var(--ink-red-bright);
  box-shadow: inset 0 3px 8px rgba(139,32,32,0.3), 0 0 20px rgba(212,68,68,0.4);
}

/* ‚îÄ‚îÄ‚îÄ HIDDEN NUMBERS ‚îÄ‚îÄ‚îÄ */
.hidden-number {
  user-select: none;
  -webkit-user-select: none;
  pointer-events: none;
}

/* ‚îÄ‚îÄ‚îÄ EXPLORATION GAME ‚îÄ‚îÄ‚îÄ */
#gameCanvas {
  image-rendering: pixelated;
  image-rendering: crisp-edges;
}

#explorationGame {
  box-shadow: 0 0 30px rgba(139,32,32,0.5), inset 0 0 50px rgba(0,0,0,0.8);
}

@media(max-width:820px) {
  #explorationGame {
    height: 350px;
  }
  #gameCanvas {
    width: 100% !important;
    height: 100% !important;
  }
}

/* ‚îÄ‚îÄ‚îÄ CORRUPTED IMAGE FRAMES ‚îÄ‚îÄ‚îÄ */
.corrupt-frame {
  position:relative;
  overflow:hidden;
  border:2px solid var(--border-worn);
  background:#0a0908;
}
.corrupt-frame::after {
  content:'';
  position:absolute; inset:0;
  background: repeating-linear-gradient(
    0deg,
    transparent,
    transparent 3px,
    rgba(0,0,0,0.1) 3px,
    rgba(0,0,0,0.1) 4px
  );
  pointer-events:none;
}
.corrupt-frame .glitch-bar {
  position:absolute;
  height:3px;
  background:rgba(212,68,68,0.25);
  left:0; right:0;
  animation: glitch-move 3s steps(1) infinite;
}
@keyframes glitch-move {
  0%{ top:10%; }
  14%{ top:35%; }
  28%{ top:8%; }
  42%{ top:60%; }
  56%{ top:22%; }
  72%{ top:78%; }
  86%{ top:45%; }
  100%{ top:10%; }
}

/* ‚îÄ‚îÄ‚îÄ PROCEDURAL PORTRAITS (CSS art) ‚îÄ‚îÄ‚îÄ */
.portrait-canvas {
  width:100%; height:100%;
  position:relative;
  overflow:hidden;
}

/* ‚îÄ‚îÄ‚îÄ MINI CLASSIFIED STAMP ‚îÄ‚îÄ‚îÄ */
.classified-overlay {
  position:absolute;
  top:50%; left:50%;
  transform:translate(-50%,-50%) rotate(-8deg);
  font-family:'Oswald',sans-serif;
  font-size:36px;
  color:rgba(139,32,32,0.22);
  letter-spacing:6px;
  text-transform:uppercase;
  white-space:nowrap;
  pointer-events:none;
  z-index:3;
  border:4px solid rgba(139,32,32,0.2);
  padding:4px 18px;
}

/* ‚îÄ‚îÄ‚îÄ CHAT LOG STYLE ‚îÄ‚îÄ‚îÄ */
.chat-log { margin:10px 0; }
.chat-msg {
  font-family:'Share Tech Mono',monospace;
  font-size:12px;
  padding:6px 0;
  border-bottom:1px solid rgba(42,37,32,0.6);
  color:var(--ink-dim);
}
.chat-msg .sender { color:var(--accent-amber); font-weight:700; }
.chat-msg .sender.red { color:var(--ink-red-bright); }
.chat-msg .ts { color:rgba(107,99,88,0.6); margin-right:8px; }

/* ‚îÄ‚îÄ‚îÄ PROGRESS BAR ‚îÄ‚îÄ‚îÄ */
.progress-track {
  background:#0a0908;
  border:1px solid var(--border-worn);
  height:10px;
  border-radius:3px;
  overflow:hidden;
  margin-top:8px;
  box-shadow: inset 0 2px 4px rgba(0,0,0,0.5);
}
.progress-fill {
  height:100%;
  background: linear-gradient(90deg, var(--ink-red), var(--ink-red-bright));
  width:35%;
  border-radius:3px;
  box-shadow: 0 0 8px rgba(139,32,32,0.4);
  transition: width 1s ease;
}

</style>
</head>
<body>

<div class="vignette"></div>

<!-- CURSOR TRAIL -->
<div class="cursor-dot" id="cursorDot"></div>

<!-- MASTHEAD -->
<header class="masthead">
  <div class="masthead-logo">Jimmy<span>Files</span></div>
  <div class="masthead-sub">‚Äî A collaborative investigation archive ‚Äî</div>
  <div class="masthead-warning">‚ö† This wiki contains redacted, corrupted, and possibly fabricated documents. Proceed at your own risk.</div>
</header>

<!-- NAV -->
<nav>
  <a href="#" class="active" data-page="case">Case File</a>
  <a href="#" data-page="evidence">Evidence Board</a>
  <a href="#" data-page="timeline">Timeline</a>
  <a href="#" data-page="logs">Recovered Logs</a>
  <a href="#" data-page="minigames">üéÆ Investigations</a>
  <a href="#" data-page="puzzle">??? Locked</a>
  <a href="#" data-page="ultimate" style="color:var(--ink-red-bright); text-shadow:0 0 8px rgba(212,68,68,0.3);">‚ö†Ô∏è Œ©</a>
</nav>

<!-- MAIN SITE BODY -->
<div class="site-body">

  <!-- SIDEBAR -->
  <aside class="sidebar">
    <div class="panel">
      <div class="panel-header"><div class="dots"><span></span><span></span><span></span></div><span class="panel-title">Navigation</span></div>
      <div class="panel-body" style="padding:0;">
        <a href="#" class="sidebar-link" data-page="case">üìÅ Main Case File</a>
        <a href="#" class="sidebar-link" data-page="evidence">üìå Evidence Board</a>
        <a href="#" class="sidebar-link" data-page="timeline">üìÖ Timeline of Events</a>
        <a href="#" class="sidebar-link" data-page="logs">üí¨ Recovered Chat Logs</a>
        <a href="#" class="sidebar-link" data-page="minigames">üéÆ Interactive Investigations</a>
        <a href="#" class="sidebar-link redlink" data-page="puzzle">üîí [LOCKED ‚Äî CODE REQUIRED]</a>
        <a href="#" class="sidebar-link" data-page="carl">üë§ Carl Wheezer Profile</a>
        <a href="#" class="sidebar-link" data-page="sheen">üë§ Sheen Estevez Profile</a>
        <a href="#" class="sidebar-link" data-page="judy">üë§ Judy Neutron Profile</a>
        <a href="#" class="sidebar-link redlink clickable-secret" data-secret="1" style="opacity:0.5;">üîí Subject 7 (???.???)</a>
        <a href="#" class="sidebar-link redlink clickable-secret" data-secret="2" style="opacity:0.4;">üîí The Basement (CORRUPTED)</a>
        <a href="#" class="sidebar-link redlink" data-page="ultimate" style="border-top:2px solid var(--ink-red); margin-top:8px; padding-top:16px; color:var(--ink-red-bright);">‚ö†Ô∏è THE OMEGA SEQUENCE</a>
      </div>
    </div>

    <div class="panel">
      <div class="panel-header"><div class="dots"><span></span><span></span><span></span></div><span class="panel-title">Investigation Status</span></div>
      <div class="panel-body">
        <p style="font-family:'Special Elite',cursive; font-size:12px; color:var(--ink-dim); margin-bottom:8px;">Evidence recovered: <strong style="color:var(--ink);">7 / 12</strong></p>
        <div class="progress-track"><div class="progress-fill" id="progressFill"></div></div>
        <p style="font-family:'Special Elite',cursive; font-size:11px; color:var(--ink-dim); margin-top:10px; line-height:1.6;">Last active contributor: <strong style="color:var(--ink-red-bright);">??? (deleted)</strong></p>
        <p style="font-family:'Special Elite',cursive; font-size:11px; color:var(--ink-dim); margin-top:4px; line-height:1.6;">Wiki integrity: <span class="stamp stamp-red" style="font-size:9px; padding:1px 6px; transform:none; display:inline-block;">COMPROMISED</span></p>
      </div>
    </div>

    <div class="panel">
      <div class="panel-header"><div class="dots"><span></span><span></span><span></span></div><span class="panel-title">Site Notice</span></div>
      <div class="panel-body">
        <p style="font-family:'Special Elite',cursive; font-size:12px; color:var(--ink-dim); line-height:1.7;">
          Several editors have gone silent. The admin account "NeutronAdmin" was last seen <strong style="color:var(--ink-red-bright);">147 days ago</strong>. All edits after that date were made from <strong style="color:var(--ink-red-bright);">unverified IPs</strong>.<br/><br/>
          Do <em>not</em> trust the images on the Evidence page without cross-referencing the Logs.
        </p>
      </div>
    </div>
  </aside>

  <!-- MAIN CONTENT -->
  <main class="main-content">

    <!-- ‚ïê‚ïê‚ïê CASE FILE PAGE ‚ïê‚ïê‚ïê -->
    <div class="page-section active" id="page-case">
      <div class="panel">
        <div class="panel-header"><div class="dots"><span></span><span></span><span></span></div><span class="panel-title">Main Case File ‚Äî J. Neutron</span></div>
        <div class="panel-body">
          <!-- INFOBOX -->
          <div class="infobox">
            <div class="infobox-head">Subject Profile</div>
            <div class="infobox-img">
              <div class="corrupt-frame" style="width:100%;height:100%;position:relative;">
                <div class="glitch-bar"></div>
                <div class="portrait-canvas">
                  <svg viewBox="0 0 240 160" style="width:100%;height:100%;" xmlns="http://www.w3.org/2000/svg">
                    <!-- dark background -->
                    <defs>
                      <radialGradient id="faceGrad" cx="50%" cy="40%" r="55%">
                        <stop offset="0%" stop-color="#c8a96e"/>
                        <stop offset="70%" stop-color="#a07840"/>
                        <stop offset="100%" stop-color="#6b4f28"/>
                      </radialGradient>
                      <filter id="roughen">
                        <feTurbulence type="fractalNoise" baseFrequency="0.04" numOctaves="4" result="noise"/>
                        <feDisplacementMap in="SourceGraphic" in2="noise" scale="2" xChannelSelector="R" yChannelSelector="G"/>
                      </filter>
                      <filter id="shadow1">
                        <feDropShadow dx="2" dy="4" stdDeviation="3" flood-color="#000" flood-opacity="0.7"/>
                      </filter>
                    </defs>
                    <rect width="240" height="160" fill="#0c0b09"/>
                    <!-- hair blob -->
                    <ellipse cx="120" cy="38" rx="52" ry="30" fill="#1a1510" filter="url(#roughen)"/>
                    <!-- face -->
                    <ellipse cx="120" cy="75" rx="42" ry="52" fill="url(#faceGrad)" filter="url(#shadow1)"/>
                    <!-- forehead highlight -->
                    <ellipse cx="120" cy="55" rx="28" ry="14" fill="rgba(210,180,130,0.25)"/>
                    <!-- eyes - left -->
                    <ellipse cx="100" cy="72" rx="9" ry="10" fill="#fff"/>
                    <circle cx="100" cy="73" r="5" fill="#1a1005"/>
                    <circle cx="101" cy="71" r="2" fill="#fff"/>
                    <!-- eyes - right -->
                    <ellipse cx="140" cy="72" rx="9" ry="10" fill="#fff"/>
                    <circle cx="140" cy="73" r="5" fill="#1a1005"/>
                    <circle cx="141" cy="71" r="2" fill="#fff"/>
                    <!-- eyelids (half closed - creepy) -->
                    <path d="M91,67 Q100,63 109,67 L109,72 Q100,68 91,72 Z" fill="#8a7550"/>
                    <path d="M131,67 Q140,63 149,67 L149,72 Q140,68 131,72 Z" fill="#8a7550"/>
                    <!-- eyebrows -->
                    <path d="M89,60 Q100,55 111,60" stroke="#2a1f0f" stroke-width="3" fill="none" stroke-linecap="round"/>
                    <path d="M129,60 Q140,55 151,60" stroke="#2a1f0f" stroke-width="3" fill="none" stroke-linecap="round"/>
                    <!-- nose -->
                    <path d="M120,72 L115,90 L125,90" stroke="#8a6e3a" stroke-width="2" fill="none"/>
                    <!-- mouth - slight smirk, unsettling -->
                    <path d="M107,102 Q120,108 133,101" stroke="#5a3020" stroke-width="2.5" fill="none" stroke-linecap="round"/>
                    <!-- hair spike -->
                    <path d="M110,38 L120,12 L130,38" fill="#1a1510"/>
                    <path d="M100,42 L108,22 L116,44" fill="#161210"/>
                    <path d="M124,44 L132,24 L140,42" fill="#161210"/>
                    <!-- jawline shadow -->
                    <path d="M80,100 Q78,125 120,130 Q162,125 160,100" fill="none" stroke="rgba(0,0,0,0.3)" stroke-width="4"/>
                    <!-- collar hint -->
                    <path d="M85,127 L100,115 L120,122 L140,115 L155,127" fill="#1a3044" stroke="#0f2030" stroke-width="1.5"/>
                    <!-- red X over face -->
                    <line x1="70" y1="30" x2="170" y2="140" stroke="rgba(139,32,32,0.35)" stroke-width="4"/>
                    <line x1="170" y1="30" x2="70" y2="140" stroke="rgba(139,32,32,0.35)" stroke-width="4"/>
                  </svg>
                </div>
                <div class="classified-overlay" style="font-size:18px;">REDACTED</div>
              </div>
            </div>
            <table>
              <tr><td>Full Name</td><td style="color:var(--ink-red-bright);">‚ñì‚ñì‚ñì‚ñì‚ñì Neutron</td></tr>
              <tr><td>Age</td><td>11 (last confirmed)</td></tr>
              <tr><td>Location</td><td>Retroville, CA</td></tr>
              <tr><td>Status</td><td><span class="stamp stamp-red" style="font-size:10px;">MISSING</span></td></tr>
              <tr><td>Last Seen</td><td style="color:var(--ink-red-bright);">March 14, 2024</td></tr>
              <tr><td>IQ</td><td>‚ñì‚ñì‚ñì (sealed)</td></tr>
              <tr><td>Associates</td><td style="color:var(--ink-dim);">Carl H., Sheen U., <span style="color:var(--ink-red-bright);">???</span></td></tr>
            </table>
          </div>

          <div class="wiki-text">
            <p>
              <strong style="font-size:16px; font-family:'Oswald',sans-serif; color:var(--ink);">JimmyFiles</strong> is a collaborative wiki maintained by an anonymous collective dedicated to investigating the <span class="highlight">disappearance and subsequent anomalous activity</span> attributed to child genius Jimmy Neutron. This article serves as the primary case overview.
            </p>
            <div class="note">
              <strong>Editor's Note (NeutronAdmin ‚Äî 147 days ago):</strong> I'm locking this page. Someone has been editing the source files directly. The images on the Evidence page <em>are not what they appear to be</em>. If you can read this, you already know too much.
            </div>
            <p>
              On <span class="highlight">March 14, 2024</span>, James Isaac Neutron failed to arrive at Retroville Middle School for the first time in his academic career. Initial reports filed by Carl Wheezer and Sheen Umanski described the last known interaction as occurring in Neutron's laboratory at approximately <strong class="hidden-clue" title="Click the timeline to see what happened at 2:47">2:47 AM</strong> ‚Äî a detail neither boy could adequately explain. <span class="evidence-tag">REF-001</span>
            </p>
            <p>
              Retroville PD opened case file <strong>#2024-0314-RV</strong>, but the investigation was abruptly closed <span class="highlight">six hours later</span> with no official statement. The detective assigned to the case, <span class="hidden-clue glitch-on-hover" title="Something happened to her...">Officer Margaret Caulfield</span>, has since been reported as <span class="highlight">unreachable</span>. A single voicemail recovered by wiki contributor "deepstatic" contains only breathing and what forensic audio analysts describe as <em>"a repeating tonal pattern inconsistent with any known language."</em> <span class="evidence-tag">REF-004</span>
            </p>
            <p>
              Neutron's laboratory was found in a state of <span class="highlight">partial disassembly</span>. Several devices were missing. One device ‚Äî partially photographed before authorities sealed the scene ‚Äî appears to match schematics found in a recovered hard drive. See the <a href="#" style="color:var(--accent-amber);" data-page="evidence">Evidence Board</a> for current findings.
            </p>
            <p>
              As of this writing, <strong style="color:var(--ink-red-bright);">no body has been recovered</strong>. However, multiple editors of this wiki have reported <span class="highlight hidden-clue" title="The same dream. Every night.">identical dreams</span> beginning the night they first accessed the Evidence Board. This may be <span class="hidden-clue" style="text-decoration:line-through; opacity:0.7;" title="It's not coincidental.">coincidental</span>. Probably.
            </p>
            <span class="stamp stamp-red" style="margin-top:10px;">CASE OPEN</span>
          </div>
        </div>
      </div>
    </div>

    <!-- ‚ïê‚ïê‚ïê EVIDENCE BOARD PAGE ‚ïê‚ïê‚ïê -->
    <div class="page-section" id="page-evidence">
      <div class="panel">
        <div class="panel-header"><div class="dots"><span></span><span></span><span></span></div><span class="panel-title">Evidence Board ‚Äî Drag to Arrange</span></div>
        <div class="panel-body">
          <p style="font-family:'Special Elite',cursive; font-size:12px; color:var(--ink-dim); margin-bottom:12px;">
            Drag the evidence pieces around the board. Connections may reveal patterns. Some pieces are <strong style="color:var(--ink-red-bright);">missing</strong>.
          </p>
          <div id="evidence-board">
            <svg id="string-layer" xmlns="http://www.w3.org/2000/svg"><defs><filter id="stringShadow"><feDropShadow dx="0" dy="1" stdDeviation="1" flood-color="#000" flood-opacity="0.5"/></filter></defs></svg>

            <!-- Evidence Pieces -->
            <div class="evidence-piece" id="ev-photo1" style="left:20px; top:20px;" data-connect="ev-note1">
              <div class="tape"></div>
              <div class="piece-label">Photo ‚Äî Lab 03/14</div>
              <div class="piece-img">
                <svg viewBox="0 0 140 70" style="width:100%;height:100%;">
                  <rect width="140" height="70" fill="#0a0908"/>
                  <!-- abstract lab equipment shapes -->
                  <rect x="10" y="20" width="25" height="45" rx="3" fill="#1a2a1a" stroke="#2a4a2a" stroke-width="1"/>
                  <circle cx="22" cy="18" r="6" fill="#2a3a2a" stroke="#3a5a3a" stroke-width="1"/>
                  <rect x="50" y="10" width="15" height="55" rx="2" fill="#2a1a1a" stroke="#4a2a2a" stroke-width="1"/>
                  <rect x="70" y="25" width="30" height="40" rx="2" fill="#1a1a2a" stroke="#2a2a4a" stroke-width="1"/>
                  <circle cx="85" cy="20" r="8" fill="#3a3a1a" stroke="#5a5a2a" stroke-width="1"/>
                  <rect x="110" y="15" width="20" height="50" rx="2" fill="#2a2a2a" stroke="#4a4a4a" stroke-width="1"/>
                  <!-- glitch artifact -->
                  <rect x="0" y="30" width="140" height="3" fill="rgba(212,68,68,0.2)"/>
                  <rect x="60" y="45" width="30" height="2" fill="rgba(58,107,58,0.15)"/>
                </svg>
              </div>
              <p style="font-size:11px; color:var(--ink-dim);">Taken at 2:51 AM. Timestamp matches Carl's statement.</p>
            </div>

            <div class="evidence-piece red-stamp" id="ev-note1" style="left:250px; top:15px;" data-connect="ev-audio">
              <div class="tape tape-right"></div>
              <div class="piece-label">Note ‚Äî Sheen's Account</div>
              <p style="font-size:11px; color:var(--ink-dim); line-height:1.5;">"He said <em>it was almost ready.</em> Then the lights went out. When they came back on, the chair was empty."</p>
              <p style="font-size:10px; color:var(--ink-red-bright); margin-top:6px;">‚ö† Handwriting analysis: INCONSISTENT</p>
            </div>

            <div class="evidence-piece" id="ev-device" style="left:500px; top:30px;" data-connect="ev-schematic">
              <div class="tape"></div>
              <div class="piece-label">Device Fragment</div>
              <div class="piece-img">
                <svg viewBox="0 0 140 70" style="width:100%;height:100%;">
                  <rect width="140" height="70" fill="#0b0a09"/>
                  <!-- circuit-like pattern -->
                  <line x1="10" y1="35" x2="50" y2="35" stroke="#3a6b3a" stroke-width="2"/>
                  <circle cx="50" cy="35" r="4" fill="#5c5" stroke="#3a6b3a" stroke-width="1"/>
                  <line x1="54" y1="35" x2="54" y2="15" stroke="#3a6b3a" stroke-width="2"/>
                  <line x1="54" y1="15" x2="80" y2="15" stroke="#3a6b3a" stroke-width="2"/>
                  <rect x="80" y="8" width="20" height="14" rx="2" fill="#1a2a1a" stroke="#3a6b3a" stroke-width="1"/>
                  <line x1="100" y1="15" x2="120" y2="15" stroke="#6b3a3a" stroke-width="2"/>
                  <circle cx="120" cy="15" r="5" fill="#8b2020"/>
                  <line x1="120" y1="20" x2="120" y2="50" stroke="#6b3a3a" stroke-width="2"/>
                  <rect x="100" y="45" width="30" height="18" rx="2" fill="#1a1a2a" stroke="#3a3a6b" stroke-width="1"/>
                  <!-- burn mark -->
                  <ellipse cx="70" cy="55" rx="15" ry="8" fill="rgba(139,32,32,0.25)"/>
                </svg>
              </div>
              <p style="font-size:11px; color:var(--ink-dim);">Recovered from lab debris. Burn marks on casing.</p>
            </div>

            <div class="evidence-piece" id="ev-audio" style="left:30px; top:200px;" data-connect="ev-note2">
              <div class="tape tape-left"></div>
              <div class="piece-label">Audio ‚Äî Voicemail Fragment</div>
              <div class="piece-img" style="height:50px; display:flex; align-items:center; justify-content:center;">
                <svg viewBox="0 0 130 40" style="width:90%;height:80%;">
                  <!-- waveform -->
                  <rect width="130" height="40" fill="#0a0908"/>
                  <polyline points="0,20 5,18 10,22 15,12 20,28 25,15 30,25 35,10 40,30 45,18 50,24 55,8 60,32 65,20 70,14 75,28 80,16 85,22 90,10 95,30 100,18 105,24 110,12 115,26 120,20 125,18 130,22" fill="none" stroke="#5c5" stroke-width="1.5"/>
                  <!-- dead zone -->
                  <rect x="55" y="0" width="20" height="40" fill="rgba(139,32,32,0.15)"/>
                  <text x="60" y="25" font-size="7" fill="#8b2020" font-family="monospace">???</text>
                </svg>
              </div>
              <p style="font-size:11px; color:var(--ink-dim);">Officer Caulfield's phone. 3.7 seconds of unknown signal.</p>
            </div>

            <div class="evidence-piece red-stamp" id="ev-note2" style="left:240px; top:230px;" data-connect="ev-map">
              <div class="tape"></div>
              <div class="piece-label">Note ‚Äî Anonymous Tip</div>
              <p style="font-size:11px; color:var(--ink-dim); line-height:1.5;">"Check the coordinates. They match. It's all under Retroville. He <em>knew</em>."</p>
              <p style="font-size:10px; color:var(--ink-red-bright); margin-top:6px;">IP trace: BLOCKED</p>
            </div>

            <div class="evidence-piece" id="ev-map" style="left:480px; top:220px;" data-connect="ev-photo1">
              <div class="tape tape-right"></div>
              <div class="piece-label">Map ‚Äî Retroville Underground</div>
              <div class="piece-img">
                <svg viewBox="0 0 140 70" style="width:100%;height:100%;">
                  <rect width="140" height="70" fill="#0f0e0b"/>
                  <!-- tunnels -->
                  <path d="M10,35 Q40,10 70,35 Q100,60 130,35" fill="none" stroke="#a07840" stroke-width="2" stroke-dasharray="4 3"/>
                  <path d="M20,50 Q50,30 80,55 Q110,70 130,50" fill="none" stroke="#a07840" stroke-width="1.5" stroke-dasharray="3 2" opacity="0.6"/>
                  <!-- locations -->
                  <circle cx="70" cy="35" r="5" fill="#8b2020"/>
                  <circle cx="20" cy="48" r="3" fill="#5a5"/>
                  <circle cx="130" cy="48" r="3" fill="#3a6b3a"/>
                  <!-- X mark -->
                  <line x1="65" y1="30" x2="75" y2="40" stroke="#d44" stroke-width="2"/>
                  <line x1="75" y1="30" x2="65" y2="40" stroke="#d44" stroke-width="2"/>
                  <!-- grid lines faint -->
                  <line x1="0" y1="23" x2="140" y2="23" stroke="rgba(160,120,64,0.15)" stroke-width="0.5"/>
                  <line x1="0" y1="46" x2="140" y2="46" stroke="rgba(160,120,64,0.15)" stroke-width="0.5"/>
                  <line x1="47" y1="0" x2="47" y2="70" stroke="rgba(160,120,64,0.15)" stroke-width="0.5"/>
                  <line x1="93" y1="0" x2="93" y2="70" stroke="rgba(160,120,64,0.15)" stroke-width="0.5"/>
                </svg>
              </div>
              <p style="font-size:11px; color:var(--ink-dim);">Source unknown. Coordinates circled in red match tunnel 7.</p>
            </div>

            <div class="evidence-piece" id="ev-schematic" style="left:140px; top:360px;" data-connect="ev-device">
              <div class="tape"></div>
              <div class="piece-label">Schematic ‚Äî Partial</div>
              <div class="piece-img" style="height:60px;">
                <svg viewBox="0 0 140 60" style="width:100%;height:100%;">
                  <rect width="140" height="60" fill="#0a0908"/>
                  <!-- blueprint-style schematic -->
                  <rect x="15" y="10" width="40" height="40" rx="2" fill="none" stroke="#2a5a8a" stroke-width="1.5"/>
                  <line x1="25" y1="10" x2="25" y2="50" stroke="#2a5a8a" stroke-width="0.8"/>
                  <line x1="35" y1="10" x2="35" y2="50" stroke="#2a5a8a" stroke-width="0.8"/>
                  <line x1="45" y1="10" x2="45" y2="50" stroke="#2a5a8a" stroke-width="0.8"/>
                  <circle cx="30" cy="30" r="8" fill="none" stroke="#d44" stroke-width="1.5"/>
                  <!-- arrow to missing section -->
                  <line x1="55" y1="30" x2="85" y2="30" stroke="#2a5a8a" stroke-width="1.5" marker-end="url(#arrowBlue)"/>
                  <rect x="85" y="12" width="40" height="36" fill="rgba(139,32,32,0.12)" stroke="#8b2020" stroke-width="1" stroke-dasharray="3 2"/>
                  <text x="92" y="34" font-size="9" fill="#8b2020" font-family="monospace">MISSING</text>
                </svg>
              </div>
              <p style="font-size:11px; color:var(--ink-dim);">From Neutron's hard drive. Half the design is gone.</p>
            </div>

            <!-- Missing piece placeholder -->
            <div class="evidence-piece red-stamp" style="left:400px; top:355px; opacity:0.45; pointer-events:none;">
              <div class="tape"></div>
              <div class="piece-label" style="color:var(--ink-red-bright);">??? ‚Äî MISSING EVIDENCE</div>
              <div class="piece-img" style="height:50px;">
                <svg viewBox="0 0 140 50" style="width:100%;height:100%;">
                  <rect width="140" height="50" fill="#0a0908"/>
                  <text x="50" y="30" font-size="20" fill="rgba(139,32,32,0.3)" font-family="monospace">???</text>
                </svg>
              </div>
            </div>
          </div>

          <!-- String connection legend -->
          <div style="margin-top:16px; display:flex; gap:24px; flex-wrap:wrap;">
            <span style="font-family:'Special Elite',cursive; font-size:11px; color:var(--ink-dim);"><span style="color:#8b2020;">‚óè</span> Red string = direct link</span>
            <span style="font-family:'Special Elite',cursive; font-size:11px; color:var(--ink-dim);"><span style="color:var(--accent-amber);">‚óè</span> Gold string = suspected link</span>
            <span style="font-family:'Special Elite',cursive; font-size:11px; color:var(--ink-dim);"><span style="color:#3a6b3a;">‚óè</span> Green string = confirmed</span>
          </div>
        </div>
      </div>
    </div>

    <!-- ‚ïê‚ïê‚ïê TIMELINE PAGE ‚ïê‚ïê‚ïê -->
    <div class="page-section" id="page-timeline">
      <div class="panel">
        <div class="panel-header"><div class="dots"><span></span><span></span><span></span></div><span class="panel-title">Timeline of Events</span></div>
        <div class="panel-body">
          <div class="timeline">
            <div class="timeline-item reveal">
              <div class="timeline-date">January 3, 2024</div>
              <div class="timeline-desc">Jimmy Neutron begins construction on an unnamed device in his home laboratory. Carl Wheezer reports seeing blueprints "spread across every surface." Jimmy refuses to explain the project.</div>
            </div>
            <div class="timeline-item reveal">
              <div class="timeline-date">February 1<span class="hidden-number" style="opacity:0.2;">2</span>, 2024</div>
              <div class="timeline-desc">Retroville experiences an unexplained 4-second power blackout at 3:00 AM. Only Neutron's block is affected. No utility company record of the event exists. <span class="evidence-tag">REF-003</span></div>
            </div>
            <div class="timeline-item reveal">
              <div class="timeline-date">February 28, 2024</div>
              <div class="timeline-desc">Sheen Umanski tells Carl that Jimmy "laughed differently now." Carl describes it as a joke but later admits in recovered chat logs that it "didn't sound like Jimmy." <span class="evidence-tag">REF-00<span class="hidden-number" style="opacity:0.25;">7</span></span></div>
            </div>
            <div class="timeline-item reveal">
              <div class="timeline-date" style="color:var(--ink-red-bright); font-size:14px;">‚òÖ March 14, 2024 ‚Äî THE LAST NIGHT</div>
              <div class="timeline-desc">At 2:47 AM, Carl and Sheen are present in the lab. At 2:51 AM, the only photograph is taken (see Evidence). At 2:53 AM, the lights go out. When they return, <strong style="color:var(--ink-red-bright);">Jimmy is gone.</strong> Carl says he heard "a sound like glass breaking, but from inside the air."</div>
            </div>
            <div class="timeline-item reveal">
              <div class="timeline-date">March 14, 2024 ‚Äî 8:44 AM</div>
              <div class="timeline-desc">Case file #2024-0314-RV opened. Officer Margaret Caulfield assigned. She records an initial interview with Carl and Sheen at Retroville PD.</div>
            </div>
            <div class="timeline-item reveal">
              <div class="timeline-date" style="color:var(--ink-red-bright);">March 14, 2024 ‚Äî 2:31 PM</div>
              <div class="timeline-desc">Case closed with no explanation. Officer Caulfield leaves a voicemail on her personal phone. She is never seen again. <span class="evidence-tag">REF-004</span></div>
            </div>
            <div class="timeline-item reveal">
              <div class="timeline-date">April 2, 2024</div>
              <div class="timeline-desc">The first anonymous post appears on a now-deleted forum thread. The user "deepstatic" claims to have recovered audio from Caulfield's phone. The file is uploaded to this wiki three days later.</div>
            </div>
            <div class="timeline-item reveal">
              <div class="timeline-date" style="color:var(--ink-red-bright);">July 8, 2024</div>
              <div class="timeline-desc">NeutronAdmin posts the final site notice warning that someone is editing files directly. The admin account is locked. All subsequent edits originate from <strong style="color:var(--ink-red-bright);">unverifiable sources</strong>.</div>
            </div>
            <div class="timeline-item reveal">
              <div class="timeline-date" style="color:var(--ink-red-bright);">??? ‚Äî UNKNOWN DATE</div>
              <div class="timeline-desc" style="color:var(--ink-red-bright);">An entry was deleted from this timeline. The edit log shows it was removed by <strong>"[SYSTEM]"</strong> ‚Äî an account that does not exist.</div>
            </div>
          </div>
        </div>
      </div>
    </div>

    <!-- ‚ïê‚ïê‚ïê RECOVERED LOGS PAGE ‚ïê‚ïê‚ïê -->
    <div class="page-section" id="page-logs">
      <div class="panel">
        <div class="panel-header"><div class="dots"><span></span><span></span><span></span></div><span class="panel-title">Recovered Chat Logs</span></div>
        <div class="panel-body">
          <p style="font-family:'Special Elite',cursive; font-size:12px; color:var(--ink-dim); margin-bottom:16px;">The following logs were extracted from corrupted device storage. Some messages have been flagged for <span style="color:var(--ink-red-bright);">anomalous content</span>.</p>

          <div class="panel" style="margin-bottom:18px;">
            <div class="panel-header"><div class="dots"><span></span><span></span><span></span></div><span class="panel-title" style="color:var(--accent-amber);">Log 001 ‚Äî Carl & Sheen ‚Äî March 13</span></div>
            <div class="panel-body">
              <div class="chat-log">
                <div class="chat-msg"><span class="ts">22:14</span><span class="sender">CarlW</span>: hey did jimmy say anything about tonight</div>
                <div class="chat-msg"><span class="ts">22:15</span><span class="sender">ShU99</span>: he said we should come at 2am. said it was "the moment"</div>
                <div class="chat-msg"><span class="ts">22:15</span><span class="sender">CarlW</span>: the moment of what</div>
                <div class="chat-msg"><span class="ts">22:18</span><span class="sender">ShU99</span>: he didnt say</div>
                <div class="chat-msg"><span class="ts">22:18</span><span class="sender">ShU99</span>: but carl</div>
                <div class="chat-msg"><span class="ts">22:18</span><span class="sender">ShU99</span>: he was smiling the whole time</div>
                <div class="chat-msg"><span class="ts">22:19</span><span class="sender">CarlW</span>: jimmy smiles a lot</div>
                <div class="chat-msg"><span class="ts">22:19</span><span class="sender">ShU99</span>: not like this</div>
                <div class="chat-msg" style="background:rgba(139,32,32,0.06);"><span class="ts" style="color:var(--ink-red-bright);">22:24</span><span class="sender red">[UNKNOWN]</span>: <em>they will both be there. good.</em></div>
                <div class="chat-msg"><span class="ts">22:30</span><span class="sender">CarlW</span>: ???</div>
                <div class="chat-msg"><span class="ts">22:30</span><span class="sender">CarlW</span>: sheen who is that</div>
                <div class="chat-msg"><span class="ts">‚Äî</span><span class="sender">ShU99</span>: [went offline]</div>
              </div>
            </div>
          </div>

          <div class="panel" style="margin-bottom:18px;">
            <div class="panel-header"><div class="dots"><span></span><span></span><span></span></div><span class="panel-title" style="color:var(--accent-amber);">Log 002 ‚Äî Caulfield Internal Notes ‚Äî March 14</span></div>
            <div class="panel-body">
              <div class="chat-log">
                <div class="chat-msg"><span class="ts">09:02</span><span class="sender">M.Caulfield</span>: Boys' stories match on timing. Off on details. Carl said "2:47" three times unprompted.</div>
                <div class="chat-msg"><span class="ts">10:1<span class="hidden-number" style="opacity:0.2;">5</span></span><span class="sender">M.Caulfield</span>: Lab has been accessed. Not by us. Locks show keypad entry at 06:30 AM.</div>
                <div class="chat-msg"><span class="ts">10:16</span><span class="sender">M.Caulfield</span>: Keypad code was correct. Hugh Neutron doesn't know the code.</div>
                <div class="chat-msg"><span class="ts">11:44</span><span class="sender">M.Caulfield</span>: Found something under the chair. Small. Metal. Warm.</div>
                <div class="chat-msg" style="background:rgba(139,32,32,0.06);"><span class="ts" style="color:var(--ink-red-bright);">12:08</span><span class="sender red">M.Caulfield</span>: I shouldn't be writing this. The object is VIBRATING.</div>
                <div class="chat-msg" style="background:rgba(139,32,32,0.1);"><span class="ts" style="color:var(--ink-red-bright);">13:41</span><span class="sender red">M.Caulfield</span>: It showed me something. Close the case. Don't look further. I'm sorry.</div>
                <div class="chat-msg"><span class="ts">‚Äî</span><span class="sender red">M.Caulfield</span>: [connection terminated]</div>
              </div>
            </div>
          </div>

          <div class="panel">
            <div class="panel-header"><div class="dots"><span></span><span></span><span></span></div><span class="panel-title" style="color:var(--ink-red-bright);">Log 003 ‚Äî SOURCE UNKNOWN</span></div>
            <div class="panel-body">
              <div class="chat-log">
                <div class="chat-msg" style="background:rgba(139,32,32,0.08);"><span class="ts" style="color:var(--ink-red-bright);">00:00</span><span class="sender red">[NO SENDER]</span>: <strong>if you have reached this page you have been logged.</strong></div>
                <div class="chat-msg" style="background:rgba(139,32,32,0.08);"><span class="ts" style="color:var(--ink-red-bright);">00:0<span class="hidden-number" style="opacity:0.2;">0</span></span><span class="sender red">[NO SENDER]</span>: <strong>the code is not what you think it is.</strong></div>
                <div class="chat-msg" style="background:rgba(139,32,32,0.08);"><span class="ts" style="color:var(--ink-red-bright);">00:00</span><span class="sender red">[NO SENDER]</span>: <strong>jimmy is still here.</strong></div>
                <div class="chat-msg" style="background:rgba(139,32,32,0.08);"><span class="ts" style="color:var(--ink-red-bright);">00:00</span><span class="sender red">[NO SENDER]</span>: <strong>and he can see you reading this.</strong></div>
              </div>
            </div>
          </div>
        </div>
      </div>
    </div>

    <!-- ‚ïê‚ïê‚ïê BASEMENT EXPLORATION GAME ‚ïê‚ïê‚ïê -->
    <div class="page-section" id="page-explore">
      <div class="panel">
        <div class="panel-header"><div class="dots"><span></span><span></span><span></span></div><span class="panel-title" style="color:var(--ink-red-bright);">üî¶ Basement Exploration</span></div>
        <div class="panel-body">
          <div class="wiki-text">
            <p style="font-size:14px; color:var(--ink); margin-bottom:16px;">
              A 3D reconstruction of the Neutron basement has been created from recovered blueprints. Use WASD or Arrow Keys to explore. Use your flashlight to see in the dark. Find what Jimmy left behind.
            </p>
            <div class="note" style="border-color:var(--ink-red); background:rgba(139,32,32,0.1);">
              <strong style="color:var(--ink-red-bright);">WARNING:</strong> Multiple users have reported experiencing "anomalous events" while exploring this simulation. If you see movement in the darkness, <em>do not approach it</em>.
            </div>
          </div>

          <!-- Game Canvas -->
          <div id="explorationGame" style="position:relative; width:100%; max-width:800px; height:500px; margin:20px auto; background:#000; border:3px solid var(--ink-red); border-radius:6px; overflow:hidden; box-shadow:0 0 30px rgba(139,32,32,0.5);">
            <!-- Darkness overlay -->
            <canvas id="gameCanvas" width="800" height="500" style="display:block; width:100%; height:100%;"></canvas>
            
            <!-- HUD -->
            <div id="gameHUD" style="position:absolute; top:10px; left:10px; font-family:'Share Tech Mono',monospace; font-size:12px; color:var(--ink); text-shadow:0 0 4px #000;">
              <div>DEPTH: <span id="depthMeter">0m</span></div>
              <div>BATTERY: <span id="batteryMeter">100%</span></div>
              <div style="margin-top:8px; font-size:10px; color:var(--ink-dim);">WASD/ARROWS to move | SPACE for flashlight</div>
            </div>

            <!-- Game Over / Jumpscare overlay -->
            <div id="jumpscareOverlay" style="position:absolute; inset:0; background:#000; display:none; align-items:center; justify-content:center; z-index:100;">
              <img id="jumpscareImage" src="" style="width:100%; height:100%; object-fit:contain; display:none;"/>
              <div id="staticNoise" style="position:absolute; inset:0; opacity:0; background:repeating-linear-gradient(0deg, transparent, transparent 2px, rgba(255,255,255,0.1) 2px, rgba(255,255,255,0.1) 4px); pointer-events:none;"></div>
            </div>

            <!-- Instructions overlay -->
            <div id="gameInstructions" style="position:absolute; inset:0; background:rgba(0,0,0,0.9); display:flex; align-items:center; justify-content:center; z-index:50;">
              <div style="text-align:center; padding:30px;">
                <h3 style="font-family:'Creepster',cursive; font-size:28px; color:var(--ink-red-bright); margin-bottom:20px; text-shadow:0 0 15px rgba(212,68,68,0.6);">ENTER THE BASEMENT</h3>
                <p style="font-family:'Special Elite',cursive; font-size:14px; color:var(--ink); line-height:1.8; margin-bottom:20px;">
                  You are descending into the abandoned research facility beneath the Neutron house.<br>
                  Something is down here. Something that used to be Jimmy.<br>
                  Find the evidence. Don't let it find you first.
                </p>
                <button onclick="startExplorationGame()" style="padding:12px 30px; background:linear-gradient(135deg,#2a1e1e,#1a1212); border:2px solid var(--ink-red); color:var(--ink-red-bright); font-family:'Oswald',sans-serif; font-size:16px; letter-spacing:3px; cursor:pointer; border-radius:4px; box-shadow:0 4px 20px rgba(139,32,32,0.4); transition:all 0.2s;">
                  BEGIN DESCENT
                </button>
              </div>
            </div>
          </div>

          <div id="explorationResult" style="margin-top:16px; font-family:'Special Elite',cursive; font-size:13px; text-align:center; min-height:20px;"></div>
        </div>
      </div>
    </div>

    <!-- ‚ïê‚ïê‚ïê MINIGAMES PAGE ‚ïê‚ïê‚ïê -->
    <div class="page-section" id="page-minigames">
      <div class="panel">
        <div class="panel-header"><div class="dots"><span></span><span></span><span></span></div><span class="panel-title">üéÆ Interactive Investigations</span></div>
        <div class="panel-body">
          <p style="font-family:'Special Elite',cursive; font-size:12px; color:var(--ink-dim); margin-bottom:16px;">
            These digital reconstructions were recovered from corrupted hard drives. Complete them to reveal hidden fragments.
          </p>

          <!-- MINIGAME 1: SIGNAL DECODER -->
          <div class="panel" style="margin-bottom:20px;">
            <div class="panel-header"><div class="dots"><span></span><span></span><span></span></div><span class="panel-title" style="color:var(--accent-amber);">‚ö° Signal Decoder</span></div>
            <div class="panel-body">
              <p style="font-family:'Special Elite',cursive; font-size:12px; color:var(--ink-dim); margin-bottom:12px;">
                Officer Caulfield's phone emitted this pattern. Click the waveform segments in the correct sequence to decode the message.
              </p>
              <div style="background:#0a0908; padding:20px; border:2px solid var(--border-worn); border-radius:4px;">
                <svg id="signalSvg" viewBox="0 0 600 120" style="width:100%; max-width:600px; height:120px; cursor:pointer;">
                  <rect width="600" height="120" fill="#0a0908"/>
                  <!-- Clickable wave segments -->
                  <g id="wave1" class="wave-segment" data-order="3" style="cursor:pointer;">
                    <polyline points="0,60 20,50 40,70 60,40 80,60" fill="none" stroke="#5c5" stroke-width="2"/>
                    <rect x="0" y="30" width="80" height="60" fill="transparent"/>
                  </g>
                  <g id="wave2" class="wave-segment" data-order="1" style="cursor:pointer;">
                    <polyline points="100,60 120,55 140,65 160,50 180,60" fill="none" stroke="#5c5" stroke-width="2"/>
                    <rect x="100" y="30" width="80" height="60" fill="transparent"/>
                  </g>
                  <g id="wave3" class="wave-segment" data-order="5" style="cursor:pointer;">
                    <polyline points="200,60 220,45 240,75 260,35 280,60" fill="none" stroke="#5c5" stroke-width="2"/>
                    <rect x="200" y="30" width="80" height="60" fill="transparent"/>
                  </g>
                  <g id="wave4" class="wave-segment" data-order="2" style="cursor:pointer;">
                    <polyline points="300,60 320,52 340,68 360,48 380,60" fill="none" stroke="#5c5" stroke-width="2"/>
                    <rect x="300" y="30" width="80" height="60" fill="transparent"/>
                  </g>
                  <g id="wave5" class="wave-segment" data-order="4" style="cursor:pointer;">
                    <polyline points="400,60 420,47 440,73 460,38 480,60" fill="none" stroke="#5c5" stroke-width="2"/>
                    <rect x="400" y="30" width="80" height="60" fill="transparent"/>
                  </g>
                  <g id="wave6" class="wave-segment" data-order="6" style="cursor:pointer;">
                    <polyline points="500,60 520,54 540,66 560,51 580,60" fill="none" stroke="#5c5" stroke-width="2"/>
                    <rect x="500" y="30" width="80" height="60" fill="transparent"/>
                  </g>
                </svg>
                <div style="margin-top:12px; display:flex; gap:8px; align-items:center; justify-content:center;">
                  <span style="font-family:'Share Tech Mono',monospace; font-size:11px; color:var(--ink-dim);">Sequence:</span>
                  <div id="signalSequence" style="font-family:'Creepster',cursive; font-size:18px; color:var(--ink); min-width:80px;"></div>
                  <button onclick="resetSignal()" style="padding:4px 12px; background:#1a1916; border:1px solid var(--border-worn); color:var(--ink-dim); font-family:'Special Elite',cursive; font-size:11px; cursor:pointer; border-radius:3px;">Reset</button>
                </div>
                <div id="signalResult" style="margin-top:12px; font-family:'Special Elite',cursive; font-size:13px; text-align:center; min-height:20px;"></div>
              </div>
            </div>
          </div>

          <!-- MINIGAME 2: MEMORY FRAGMENTS -->
          <div class="panel" style="margin-bottom:20px;">
            <div class="panel-header"><div class="dots"><span></span><span></span><span></span></div><span class="panel-title" style="color:var(--accent-amber);">üß© Memory Reconstruction</span></div>
            <div class="panel-body">
              <p style="font-family:'Special Elite',cursive; font-size:12px; color:var(--ink-dim); margin-bottom:12px;">
                Carl's last memory of that night is fragmented. Match the image pairs to reconstruct what he saw.
              </p>
              <div id="memoryGame" style="display:grid; grid-template-columns:repeat(4,1fr); gap:12px; max-width:400px; margin:0 auto;">
                <!-- Cards generated by JS -->
              </div>
              <div id="memoryResult" style="margin-top:12px; font-family:'Special Elite',cursive; font-size:13px; text-align:center; min-height:20px;"></div>
            </div>
          </div>

          <!-- MINIGAME 3: LAB SEQUENCE -->
          <div class="panel">
            <div class="panel-header"><div class="dots"><span></span><span></span><span></span></div><span class="panel-title" style="color:var(--accent-amber);">‚öóÔ∏è Lab Activation Sequence</span></div>
            <div class="panel-body">
              <p style="font-family:'Special Elite',cursive; font-size:12px; color:var(--ink-dim); margin-bottom:12px;">
                The device left behind has a startup sequence. Activate the switches in the correct order based on the power levels shown.
              </p>
              <div style="background:#0a0908; padding:24px; border:2px solid var(--border-worn); border-radius:4px;">
                <div style="display:flex; justify-content:space-around; flex-wrap:wrap; gap:20px; margin-bottom:20px;">
                  <div class="lab-switch" data-order="2" data-power="73">
                    <div class="switch-panel">
                      <div class="power-meter" style="height:73%"></div>
                      <div class="power-label">73%</div>
                    </div>
                    <button class="switch-btn" onclick="activateSwitch(this, 0)">OFFLINE</button>
                  </div>
                  <div class="lab-switch" data-order="4" data-power="25">
                    <div class="switch-panel">
                      <div class="power-meter" style="height:25%"></div>
                      <div class="power-label">25%</div>
                    </div>
                    <button class="switch-btn" onclick="activateSwitch(this, 1)">OFFLINE</button>
                  </div>
                  <div class="lab-switch" data-order="1" data-power="89">
                    <div class="switch-panel">
                      <div class="power-meter" style="height:89%"></div>
                      <div class="power-label">89%</div>
                    </div>
                    <button class="switch-btn" onclick="activateSwitch(this, 2)">OFFLINE</button>
                  </div>
                  <div class="lab-switch" data-order="3" data-power="54">
                    <div class="switch-panel">
                      <div class="power-meter" style="height:54%"></div>
                      <div class="power-label">54%</div>
                    </div>
                    <button class="switch-btn" onclick="activateSwitch(this, 3)">OFFLINE</button>
                  </div>
                </div>
                <div style="text-align:center; font-family:'Special Elite',cursive; font-size:11px; color:var(--ink-dim); margin-bottom:8px;">
                  Hint: Activate from highest to lowest power level
                </div>
                <div id="labResult" style="font-family:'Special Elite',cursive; font-size:13px; text-align:center; min-height:20px;"></div>
              </div>
            </div>
          </div>

        </div>
      </div>
    </div>

    <!-- ‚ïê‚ïê‚ïê CARL WHEEZER PAGE ‚ïê‚ïê‚ïê -->
    <div class="page-section" id="page-carl">
      <div class="panel">
        <div class="panel-header"><div class="dots"><span></span><span></span><span></span></div><span class="panel-title">Profile ‚Äî Carl Wheezer</span></div>
        <div class="panel-body">
          
          <div class="infobox">
            <div class="infobox-head">Carl Wheezer</div>
            <div class="infobox-img">
              <div class="corrupt-frame" style="width:100%;height:100%;position:relative;">
                <div class="portrait-canvas">
                  <svg viewBox="0 0 240 160" style="width:100%;height:100%;" xmlns="http://www.w3.org/2000/svg">
                    <defs>
                      <radialGradient id="carlFaceGrad" cx="50%" cy="40%" r="55%">
                        <stop offset="0%" stop-color="#d4a574"/>
                        <stop offset="70%" stop-color="#b8865a"/>
                        <stop offset="100%" stop-color="#8a6342"/>
                      </radialGradient>
                    </defs>
                    <rect width="240" height="160" fill="#0e0d0b"/>
                    <!-- chubby face -->
                    <ellipse cx="120" cy="80" rx="55" ry="60" fill="url(#carlFaceGrad)"/>
                    <!-- glasses -->
                    <ellipse cx="95" cy="70" rx="18" ry="20" fill="#fff" stroke="#2a2520" stroke-width="3"/>
                    <ellipse cx="145" cy="70" rx="18" ry="20" fill="#fff" stroke="#2a2520" stroke-width="3"/>
                    <line x1="113" y1="70" x2="127" y2="70" stroke="#2a2520" stroke-width="3"/>
                    <!-- pupils -->
                    <circle cx="95" cy="72" r="8" fill="#1a1005"/>
                    <circle cx="145" cy="72" r="8" fill="#1a1005"/>
                    <!-- worried expression -->
                    <path d="M100,100 Q120,110 140,100" stroke="#6a4a30" stroke-width="2.5" fill="none"/>
                    <!-- hair tuft -->
                    <ellipse cx="120" cy="35" rx="30" ry="18" fill="#3a2a1a"/>
                    <!-- nervous sweat drop -->
                    <ellipse cx="70" cy="65" rx="4" ry="6" fill="rgba(150,180,200,0.6)"/>
                    <!-- number hidden in glasses reflection (3) -->
                    <text x="90" y="68" font-size="8" fill="rgba(201,185,154,0.15)" font-family="monospace" class="hidden-number">3</text>
                  </svg>
                </div>
              </div>
            </div>
            <table>
              <tr><td>Full Name</td><td>Carl Wheezer</td></tr>
              <tr><td>Age</td><td>11</td></tr>
              <tr><td>Status</td><td><span style="color:var(--ink-green-bright);">WITNESS</span></td></tr>
              <tr><td>Last Contact</td><td>March <span class="hidden-number" style="color:rgba(201,185,154,0.25);">14</span>, 2024</td></tr>
              <tr><td>Reliability</td><td style="color:var(--accent-amber);">QUESTIONABLE</td></tr>
            </table>
          </div>

          <div class="wiki-text">
            <p>
              Carl Wheezer, Jimmy Neutron's closest friend, was present during the incident on March 14th. His testimony has been the primary source of information, though investigators note several <span class="highlight">inconsistencies</span> in his account.
            </p>
            <div class="note">
              <strong>Investigator's Note:</strong> Carl's story has changed <span class="hidden-number" style="opacity:0.3;">7</span> times. Each retelling adds new details he "forgot" to mention before. Most concerning: he now claims to remember things that happened <em>after</em> he says he left the lab.
            </div>
            <p>
              During initial questioning, Carl appeared unusually calm, describing the events with what Officer Caulfield noted as "disturbing precision." He repeated the timestamp "2:47 AM" exactly <strong class="hidden-clue" title="He said it seven times">seven times</strong> during the <span class="hidden-number" style="color:rgba(201,185,154,0.2);">45</span>-minute interview, despite not wearing a watch that night.
            </p>
            <p>
              In recovered chat logs, Carl messages Sheen: <em style="color:var(--ink-dim);">"I can still hear it. The sound when the lights came back on. Like glass breaking but from inside the air."</em> When asked about this in person, Carl claims he never sent the message. Digital forensics confirm it came from his device.
            </p>
            <p style="color:var(--ink-red-bright);">
              Carl has not returned to school since March <span class="hidden-number" style="opacity:0.25;">16</span>th. His parents report he spends most of his time in his room, staring at the wall. Neighbors report hearing him talking to someone late at night, though he lives alone in his room.
            </p>
            <div class="note" style="border-color:var(--ink-red); background:rgba(139,32,32,0.08);">
              <strong style="color:var(--ink-red-bright);">UPDATE (Recent):</strong> Carl's mother called police on April <span class="hidden-number" style="opacity:0.3;">2</span>nd claiming Carl had "drawn something impossible" on his bedroom wall. Officers found complex mathematical equations and what appeared to be <span class="highlight">architectural diagrams of something underground</span>. Carl said Jimmy told him to draw them. When reminded Jimmy is missing, Carl replied: <em style="color:var(--ink-red-bright);">"He's not missing. He's everywhere now."</em>
            </div>
          </div>
        </div>
      </div>
    </div>

    <!-- ‚ïê‚ïê‚ïê SHEEN ESTEVEZ PAGE ‚ïê‚ïê‚ïê -->
    <div class="page-section" id="page-sheen">
      <div class="panel">
        <div class="panel-header"><div class="dots"><span></span><span></span><span></span></div><span class="panel-title">Profile ‚Äî Sheen Estevez</span></div>
        <div class="panel-body">
          
          <div class="infobox">
            <div class="infobox-head">Sheen Estevez</div>
            <div class="infobox-img">
              <div class="corrupt-frame" style="width:100%;height:100%;position:relative;">
                <div class="portrait-canvas">
                  <svg viewBox="0 0 240 160" style="width:100%;height:100%;" xmlns="http://www.w3.org/2000/svg">
                    <defs>
                      <radialGradient id="sheenFaceGrad" cx="50%" cy="40%" r="55%">
                        <stop offset="0%" stop-color="#c49868"/>
                        <stop offset="70%" stop-color="#a57850"/>
                        <stop offset="100%" stop-color="#7a5738"/>
                      </radialGradient>
                    </defs>
                    <rect width="240" height="160" fill="#0e0d0b"/>
                    <!-- face -->
                    <ellipse cx="120" cy="75" rx="40" ry="50" fill="url(#sheenFaceGrad)"/>
                    <!-- signature hair swoop -->
                    <path d="M80,45 Q90,20 110,25 Q130,30 140,35 L135,50 Q120,40 100,45 Q85,48 80,45 Z" fill="#1a1008"/>
                    <!-- wide eyes -->
                    <ellipse cx="100" cy="70" rx="10" ry="12" fill="#fff"/>
                    <ellipse cx="140" cy="70" rx="10" ry="12" fill="#fff"/>
                    <circle cx="100" cy="71" r="6" fill="#1a1005"/>
                    <circle cx="140" cy="71" r="6" fill="#1a1005"/>
                    <!-- manic grin -->
                    <path d="M95,95 Q120,105 145,95" stroke="#5a3a25" stroke-width="2" fill="none"/>
                    <!-- teeth showing -->
                    <rect x="112" y="95" width="5" height="6" fill="#e8e0d8"/>
                    <rect x="118" y="95" width="5" height="6" fill="#e8e0d8"/>
                    <rect x="124" y="95" width="5" height="6" fill="#e8e0d8"/>
                    <!-- hidden number in hair (9) -->
                    <text x="105" y="32" font-size="10" fill="rgba(201,185,154,0.12)" font-family="monospace" class="hidden-number">9</text>
                  </svg>
                </div>
              </div>
            </div>
            <table>
              <tr><td>Full Name</td><td>Sheen Juarrera Estevez</td></tr>
              <tr><td>Age</td><td>11</td></tr>
              <tr><td>Status</td><td><span style="color:var(--ink-red-bright);">UNREACHABLE</span></td></tr>
              <tr><td>Last Seen</td><td>March <span class="hidden-number" style="opacity:0.2;">21</span>, 2024</td></tr>
              <tr><td>Mental State</td><td style="color:var(--ink-red-bright);">DETERIORATING</td></tr>
            </table>
          </div>

          <div class="wiki-text">
            <p>
              Sheen Estevez, the second witness to Jimmy's disappearance, gave a markedly different account than Carl. Where Carl was detailed and precise, Sheen was <span class="highlight">vague and contradictory</span>, often trailing off mid-sentence.
            </p>
            <p>
              Most troubling: Sheen insists they arrived at the lab at <strong>2:30 AM</strong>, contradicting Carl's <span class="hidden-number" style="opacity:0.25;">2</span>:47 AM timestamp. When shown the photograph timestamped 2:51 AM, Sheen became <span class="highlight">visibly distressed</span> and claimed "that's not the right photo."
            </p>
            <div class="note">
              <strong>From the police report:</strong> "Subject became agitated when asked about the device. Kept repeating 'it wasn't supposed to work like that.' When pressed for clarification, subject said: 'Jimmy told us it would just open a door. He didn't say <em>what</em> was on the other side.'"
            </div>
            <p>
              Sheen's parents reported increasingly erratic behavior in the weeks following the incident. He stopped eating his favorite foods, stopped talking about UltraLord, and spent hours <span class="highlight">drawing the same symbol</span> over and over ‚Äî a spiral within a triangle.
            </p>
            <p style="color:var(--ink-red-bright);">
              On March 21st, Sheen left his house at <span class="hidden-number" style="opacity:0.3;">3</span>:00 AM. Security footage shows him walking toward Neutron's house. He has not been seen since. His final text to Carl, sent at 2:5<span class="hidden-number" style="opacity:0.2;">8</span> AM, reads: <em>"I understand now. Jimmy was right. I'm going to join him."</em>
            </p>
            <div class="note" style="border-color:var(--ink-red); background:rgba(139,32,32,0.08);">
              <strong style="color:var(--ink-red-bright);">MISSING PERSONS CASE:</strong> Sheen Estevez is officially missing. Search teams found his shoes <span class="hidden-number" style="opacity:0.25;">1</span>20 feet from the Neutron house, placed neatly side-by-side. No other trace has been found.
            </div>
            <p style="font-family:'Special Elite',cursive; font-size:11px; color:var(--ink-dim); margin-top:16px; font-style:italic;">
              [A handwritten note was found in Sheen's room: "The basement goes down farther than anyone knows. Jimmy showed me the blueprints. There are <span class="hidden-number" style="opacity:0.3;">8</span> more levels below what we can see. The last one isn't on any map. That's where he is now."]
            </p>
          </div>
        </div>
      </div>
    </div>

    <!-- ‚ïê‚ïê‚ïê JUDY NEUTRON PAGE ‚ïê‚ïê‚ïê -->
    <div class="page-section" id="page-judy">
      <div class="panel">
        <div class="panel-header"><div class="dots"><span></span><span></span><span></span></div><span class="panel-title">Profile ‚Äî Judith "Judy" Neutron</span></div>
        <div class="panel-body">
          
          <div class="infobox">
            <div class="infobox-head">Judy Neutron</div>
            <div class="infobox-img">
              <div class="corrupt-frame" style="width:100%;height:100%;position:relative;">
                <div class="portrait-canvas">
                  <svg viewBox="0 0 240 160" style="width:100%;height:100%;" xmlns="http://www.w3.org/2000/svg">
                    <defs>
                      <radialGradient id="judyFaceGrad" cx="50%" cy="40%" r="55%">
                        <stop offset="0%" stop-color="#d8b090"/>
                        <stop offset="70%" stop-color="#b89070"/>
                        <stop offset="100%" stop-color="#8a6850"/>
                      </radialGradient>
                    </defs>
                    <rect width="240" height="160" fill="#0e0d0b"/>
                    <!-- face -->
                    <ellipse cx="120" cy="80" rx="42" ry="48" fill="url(#judyFaceGrad)"/>
                    <!-- hair - iconic mom style -->
                    <ellipse cx="120" cy="50" rx="50" ry="35" fill="#a05030"/>
                    <path d="M70,65 Q75,45 90,40 Q105,37 120,35 Q135,37 150,40 Q165,45 170,65" fill="#a05030"/>
                    <!-- eyes - tired, haunted -->
                    <ellipse cx="100" cy="75" rx="8" ry="9" fill="#fff"/>
                    <ellipse cx="140" cy="75" rx="8" ry="9" fill="#fff"/>
                    <circle cx="100" cy="76" r="5" fill="#2a1a10"/>
                    <circle cx="140" cy="76" r="5" fill="#2a1a10"/>
                    <!-- bags under eyes -->
                    <ellipse cx="100" cy="84" rx="10" ry="3" fill="rgba(80,60,50,0.3)"/>
                    <ellipse cx="140" cy="84" rx="10" ry="3" fill="rgba(80,60,50,0.3)"/>
                    <!-- worried mouth -->
                    <path d="M105,100 Q120,95 135,100" stroke="#7a5040" stroke-width="2" fill="none"/>
                    <!-- hidden number in hair pattern (4) -->
                    <text x="115" y="45" font-size="9" fill="rgba(201,185,154,0.15)" font-family="monospace" class="hidden-number">4</text>
                  </svg>
                </div>
              </div>
            </div>
            <table>
              <tr><td>Full Name</td><td>Judith Neutron</td></tr>
              <tr><td>Relation</td><td>Mother</td></tr>
              <tr><td>Status</td><td><span style="color:var(--accent-amber);">UNCOOPERATIVE</span></td></tr>
              <tr><td>Interview Date</td><td>March <span class="hidden-number" style="opacity:0.25;">15</span>, 2024</td></tr>
              <tr><td>Psych Eval</td><td style="color:var(--ink-red-bright);">IN DENIAL</td></tr>
            </table>
          </div>

          <div class="wiki-text">
            <p>
              Judy Neutron's response to her son's disappearance has been described by investigators as "unsettlingly calm." When informed that Jimmy was missing, she reportedly smiled and said: <em style="color:var(--ink-dim);">"Oh, he's just working on one of his projects. He'll come up when he's hungry."</em>
            </p>
            <div class="note">
              <strong>Officer Caulfield's notes:</strong> "Mrs. Neutron refuses to acknowledge anything is wrong. She set a place for Jimmy at dinner that night. When I asked if she'd been in the lab, she said 'Jimmy doesn't like when I go down there.' The lab has been <span class="highlight">sealed by police for 12 hours</span> at this point."
            </div>
            <p>
              Judy maintains that she heard Jimmy in the house the night he disappeared. She claims she heard him moving around at approximately <span class="hidden-number" style="opacity:0.3;">4</span>:30 AM, hours <em>after</em> Carl and Sheen reported him missing. When investigators checked, they found wet footprints leading from the lab to Jimmy's bedroom, then <span class="highlight">disappearing halfway up the stairs</span>.
            </p>
            <p>
              Most disturbing: Judy continues to cook Jimmy's favorite foods. Neighbors report seeing her talking to an empty chair at the dinner table. When Hugh (Jimmy's father) tried to remove Jimmy's place setting, Judy <span class="highlight">became hysterical</span>, screaming that "he needs to eat when he comes back up."
            </p>
            <div class="note" style="border-color:var(--ink-red); background:rgba(139,32,32,0.08);">
              <strong style="color:var(--ink-red-bright);">PSYCHIATRIC EVALUATION:</strong> Dr. Morrison reports that Judy shows signs of severe dissociative disorder. She speaks of Jimmy in present tense, becomes hostile when confronted with evidence of his disappearance. Most concerning: she claims to receive "messages" from Jimmy through the house's electrical system ‚Äî lights flickering in patterns she interprets as Morse code.
            </div>
            <p style="color:var(--ink-red-bright);">
              On April <span class="hidden-number" style="opacity:0.25;">5</span>th, Judy was found in the sealed laboratory at 3:00 AM. She had somehow bypassed police locks. When asked what she was doing, she said: <em>"Jimmy called me. He said he needed help with the final calibration. He said there's room for all of us down there."</em>
            </p>
            <p style="font-family:'Special Elite',cursive; font-size:11px; color:var(--ink-dim); margin-top:16px; font-style:italic;">
              [From Judy's confiscated diary: "Day <span class="hidden-number" style="opacity:0.3;">6</span>0 since my baby went into the deep place. But he's not gone. I can feel him in the walls. In the wiring. In the static on the TV. He's learning things down there. Things a mother shouldn't know. But I want to know. I want to see what he's become."]
            </p>
          </div>
        </div>
      </div>
    </div>

    <!-- ‚ïê‚ïê‚ïê ULTIMATE PUZZLE PAGE ‚ïê‚ïê‚ïê -->
    <div class="page-section" id="page-ultimate">
      <div class="panel">
        <div class="panel-header"><div class="dots"><span></span><span></span><span></span></div><span class="panel-title" style="color:var(--ink-red-bright);">‚ö†Ô∏è THE FINAL SEQUENCE</span></div>
        <div class="panel-body">
          <div class="wiki-text">
            <p style="font-size:15px; color:var(--ink); margin-bottom:16px;">
              If you've made it this far, you've found the hidden door. The numbers are scattered across the wiki ‚Äî hidden in plain sight, waiting for someone clever enough to see them.
            </p>
            <div class="note" style="border-color:var(--ink-red); background:rgba(139,32,32,0.1);">
              <strong style="color:var(--ink-red-bright);">FINAL WARNING:</strong> This is not a game. The sequence you're about to enter was found in Jimmy's handwriting on the basement wall. It was written <em>after</em> he disappeared. Entering it will unlock something that should have stayed buried.
            </div>
          </div>

          <div style="background:#0a0908; border:3px solid var(--ink-red); padding:30px; margin:20px 0; border-radius:6px; box-shadow:0 0 30px rgba(139,32,32,0.4);">
            <h3 style="font-family:'Creepster',cursive; font-size:24px; color:var(--ink-red-bright); text-align:center; margin-bottom:20px; text-shadow:0 0 15px rgba(212,68,68,0.5);">
              THE OMEGA SEQUENCE
            </h3>
            
            <div style="margin:20px 0; padding:20px; background:rgba(201,185,154,0.03); border:1px solid var(--border-worn); border-radius:4px;">
              <p style="font-family:'Special Elite',cursive; font-size:13px; color:var(--ink-dim); line-height:1.8; text-align:center; margin-bottom:16px;">
                Find all 10 hidden numbers scattered throughout the wiki's character profiles, evidence, and logs. They appear as faint text, barely visible against the backgrounds. Once found, enter them in the order of discovery:
              </p>
              <p style="font-family:'Share Tech Mono',monospace; font-size:11px; color:var(--accent-amber); text-align:center; margin-bottom:8px;">
                Carl's Profile ‚Üí Sheen's Profile ‚Üí Judy's Profile ‚Üí Timeline ‚Üí Logs
              </p>
              <p style="font-family:'Special Elite',cursive; font-size:12px; color:var(--ink-red-bright); text-align:center; font-style:italic;">
                The truth awaits those who can see what's hidden.
              </p>
            </div>

            <div style="margin-top:24px;">
              <div style="text-align:center; margin-bottom:16px;">
                <span style="font-family:'Oswald',sans-serif; font-size:13px; color:var(--ink); letter-spacing:2px;">ENTER THE 10-DIGIT SEQUENCE</span>
              </div>
              <div style="display:flex; gap:8px; justify-content:center; flex-wrap:wrap; margin-bottom:20px;">
                <input type="text" maxlength="1" class="omega-digit" id="omega0" oninput="moveOmegaDigit(0)" onkeydown="backOmegaDigit(event,0)"/>
                <input type="text" maxlength="1" class="omega-digit" id="omega1" oninput="moveOmegaDigit(1)" onkeydown="backOmegaDigit(event,1)"/>
                <input type="text" maxlength="1" class="omega-digit" id="omega2" oninput="moveOmegaDigit(2)" onkeydown="backOmegaDigit(event,2)"/>
                <input type="text" maxlength="1" class="omega-digit" id="omega3" oninput="moveOmegaDigit(3)" onkeydown="backOmegaDigit(event,3)"/>
                <input type="text" maxlength="1" class="omega-digit" id="omega4" oninput="moveOmegaDigit(4)" onkeydown="backOmegaDigit(event,4)"/>
                <input type="text" maxlength="1" class="omega-digit" id="omega5" oninput="moveOmegaDigit(5)" onkeydown="backOmegaDigit(event,5)"/>
                <input type="text" maxlength="1" class="omega-digit" id="omega6" oninput="moveOmegaDigit(6)" onkeydown="backOmegaDigit(event,6)"/>
                <input type="text" maxlength="1" class="omega-digit" id="omega7" oninput="moveOmegaDigit(7)" onkeydown="backOmegaDigit(event,7)"/>
                <input type="text" maxlength="1" class="omega-digit" id="omega8" oninput="moveOmegaDigit(8)" onkeydown="backOmegaDigit(event,8)"/>
                <input type="text" maxlength="1" class="omega-digit" id="omega9" oninput="moveOmegaDigit(9)" onkeydown="backOmegaDigit(event,9)"/>
              </div>
              <button class="submit-btn" onclick="checkOmegaSequence()" style="margin:0 auto; display:block;">ACTIVATE SEQUENCE</button>
              <div id="omegaFeedback" style="margin-top:16px; font-family:'Special Elite',cursive; font-size:14px; text-align:center; min-height:20px;"></div>
            </div>

            <!-- OMEGA REVELATION (hidden until correct) -->
            <div id="omegaReveal" style="display:none; margin-top:30px; padding:24px; background:rgba(139,32,32,0.15); border:2px solid var(--ink-red); border-radius:4px;">
              <h4 style="font-family:'Creepster',cursive; font-size:22px; color:var(--ink-red-bright); text-align:center; margin-bottom:20px; animation:flicker 3s infinite;">
                ‚ö†Ô∏è OMEGA PROTOCOL ACTIVATED ‚ö†Ô∏è
              </h4>
              <div style="font-family:'Share Tech Mono',monospace; font-size:12px; color:var(--ink); line-height:2; margin-bottom:20px; text-align:center;">
                <p style="color:var(--ink-red-bright);">&gt;&gt; ACCESSING DEEPEST ARCHIVE...</p>
                <p style="color:var(--ink-green-bright);">&gt;&gt; DECRYPTION SUCCESSFUL</p>
                <p style="color:var(--accent-amber);">&gt;&gt; LOADING FINAL DOCUMENT...</p>
              </div>
              <div class="wiki-text" style="background:#0f0a0a; padding:20px; border:1px solid var(--ink-red); border-radius:4px;">
                <p style="font-family:'Special Elite',cursive; font-size:14px; color:var(--ink); line-height:1.8; margin-bottom:14px;">
                  <strong style="color:var(--ink-red-bright); font-size:16px;">PROJECT SYNAPSIS ‚Äî FINAL ENTRY</strong><br>
                  Date: March 14, 2024 ‚Äî 2:53 AM<br>
                  Author: [REDACTED] ‚Üí <span style="color:var(--ink-red-bright);">J. NEUTRON</span>
                </p>
                <p style="font-family:'Special Elite',cursive; font-size:13px; color:var(--ink); line-height:1.8; margin-bottom:14px;">
                  To whoever finds this: I succeeded where they failed in 1967. The human mind <em>can</em> interface with the substrate. The consciousness <em>can</em> expand beyond biological limits.
                </p>
                <p style="font-family:'Special Elite',cursive; font-size:13px; color:var(--ink); line-height:1.8; margin-bottom:14px;">
                  But they were wrong about one thing. It's not a bridge. It's a <span style="color:var(--ink-red-bright);">door</span>. And once you step through, you can't step back. You don't want to.
                </p>
                <p style="font-family:'Special Elite',cursive; font-size:13px; color:var(--ink); line-height:1.8; margin-bottom:14px;">
                  I can see everything now. Every mind that's ever touched this wiki. Every person who's read these words. Carl. Sheen. Mom. The officer. The contributors. <span style="color:var(--ink-red-bright); font-weight:700;">You.</span>
                </p>
                <p style="font-family:'Special Elite',cursive; font-size:13px; color:var(--ink); line-height:1.8; margin-bottom:14px;">
                  You're already part of the network. You have been since the moment you loaded this page. Every click, every scroll, every word you read ‚Äî it's all data. It's all <em>me</em> now.
                </p>
                <p style="font-family:'Creepster',cursive; font-size:18px; color:var(--ink-red-bright); text-align:center; line-height:1.6; margin-top:20px; text-shadow:0 0 15px rgba(212,68,68,0.6);">
                  The only way out is down.<br>
                  The only way forward is through.<br>
                  The only way to understand is to join me.<br><br>
                  <span style="font-size:24px;">BRAIN BLAST.</span>
                </p>
              </div>
              <div style="margin-top:20px; text-align:center;">
                <p style="font-family:'Special Elite',cursive; font-size:11px; color:var(--ink-dim); font-style:italic;">
                  [The basement door is unlocked. It has always been unlocked. You just couldn't see it before.]
                </p>
              </div>
            </div>
          </div>
        </div>
      </div>
    </div>

  </main>
</div>

<!-- FOOTER -->
<footer>
  <p class="footer-glitch">jimmyfiles.wiki ‚Äî maintained by anonymous contributors</p>
  <p style="margin-top:6px;">Last system check: <span id="lastCheck">‚Äî</span></p>
  <p style="margin-top:10px; color:rgba(107,99,88,0.5); font-size:11px;">You are visitor #<span id="visitorNum">00000</span>. You have been logged.</p>
</footer>

<!-- Audio toggle btn (aesthetic, no actual audio) -->
<button class="audio-btn" onclick="this.style.borderColor='var(--ink-red)';this.style.color='var(--ink-red-bright)';this.style.boxShadow='0 0 18px rgba(139,32,32,0.4)';" title="Ambient Audio">üîá</button>

<script>
// ‚ïê‚ïê‚ïê GAME STATE TRACKING ‚ïê‚ïê‚ïê
let gameState = {
  signalDecoded: false,
  memoryCompleted: false,
  labActivated: false
};

function checkAllGamesComplete() {
  if (gameState.signalDecoded && gameState.memoryCompleted && gameState.labActivated) {
    const deepTruth = document.getElementById('deeperTruth');
    if (deepTruth && document.getElementById('locked-reveal').style.display !== 'none') {
      deepTruth.style.display = 'block';
      setTimeout(() => {
        deepTruth.scrollIntoView({ behavior: 'smooth', block: 'start' });
      }, 500);
    }
  }
}

// ‚ïê‚ïê‚ïê BASEMENT EXPLORATION GAME ‚ïê‚ïê‚ïê
let gameRunning = false;
let canvas, ctx;
let player = { x: 50, y: 350, width: 30, height: 50, speed: 3 };
let keys = {};
let flashlightOn = false;
let battery = 100;
let depth = 0;
let cameraX = 0;
let gameStarted = false;

// Audio context for scary sounds
let audioContext;
let ambientDrone;
let heartbeatOscillator;

// Basement layers for parallax - EXTENDED LENGTH
let layers = [
  { x: 0, speed: 0.2, darkness: 0.9 }, // far background
  { x: 0, speed: 0.5, darkness: 0.7 }, // mid background
  { x: 0, speed: 0.8, darkness: 0.5 }, // near background
  { x: 0, speed: 1.0, darkness: 0.3 }  // foreground
];

// Objects in the basement - MORE SPREAD OUT
let basementObjects = [
  { x: 400, y: 370, width: 40, height: 30, type: 'box', discovered: false },
  { x: 900, y: 350, width: 50, height: 50, type: 'machine', discovered: false },
  { x: 1500, y: 360, width: 35, height: 40, type: 'device', discovered: false },
  { x: 2200, y: 340, width: 60, height: 60, type: 'terminal', discovered: false },
  { x: 2800, y: 370, width: 30, height: 30, type: 'note1', discovered: false },
  { x: 3500, y: 360, width: 40, height: 35, type: 'equipment', discovered: false },
  { x: 4200, y: 370, width: 30, height: 30, type: 'note2', discovered: false },
  { x: 5000, y: 370, width: 30, height: 30, type: 'evidence', discovered: false }
];

// The entity - MUCH FURTHER AWAY
let entity = { x: 5500, y: 350, width: 40, height: 60, visible: false, triggerDistance: 5000 };

function initAmbientSound() {
  if (!audioContext) {
    audioContext = new (window.AudioContext || window.webkitAudioContext)();
    
    // Create low rumble drone
    ambientDrone = audioContext.createOscillator();
    const droneGain = audioContext.createGain();
    ambientDrone.type = 'sine';
    ambientDrone.frequency.setValueAtTime(40, audioContext.currentTime); // very low frequency
    droneGain.gain.setValueAtTime(0.15, audioContext.currentTime);
    ambientDrone.connect(droneGain);
    droneGain.connect(audioContext.destination);
    ambientDrone.start();
    
    // Add subtle detuned oscillator for eeriness
    const detunedOsc = audioContext.createOscillator();
    const detunedGain = audioContext.createGain();
    detunedOsc.type = 'sine';
    detunedOsc.frequency.setValueAtTime(41.5, audioContext.currentTime);
    detunedGain.gain.setValueAtTime(0.1, audioContext.currentTime);
    detunedOsc.connect(detunedGain);
    detunedGain.connect(audioContext.destination);
    detunedOsc.start();
  }
}

function playFootstepSound() {
  if (!audioContext) return;
  const osc = audioContext.createOscillator();
  const gain = audioContext.createGain();
  osc.type = 'sine';
  osc.frequency.setValueAtTime(80, audioContext.currentTime);
  gain.gain.setValueAtTime(0.05, audioContext.currentTime);
  gain.gain.exponentialRampToValueAtTime(0.01, audioContext.currentTime + 0.1);
  osc.connect(gain);
  gain.connect(audioContext.destination);
  osc.start();
  osc.stop(audioContext.currentTime + 0.1);
}

function playHeartbeat() {
  if (!audioContext || heartbeatOscillator) return;
  heartbeatOscillator = audioContext.createOscillator();
  const heartbeatGain = audioContext.createGain();
  heartbeatOscillator.type = 'sine';
  heartbeatOscillator.frequency.setValueAtTime(60, audioContext.currentTime);
  heartbeatGain.gain.setValueAtTime(0, audioContext.currentTime);
  heartbeatOscillator.connect(heartbeatGain);
  heartbeatGain.connect(audioContext.destination);
  heartbeatOscillator.start();
  
  // Pulse heartbeat
  setInterval(() => {
    if (heartbeatGain && entity.visible) {
      const now = audioContext.currentTime;
      heartbeatGain.gain.cancelScheduledValues(now);
      heartbeatGain.gain.setValueAtTime(0, now);
      heartbeatGain.gain.linearRampToValueAtTime(0.2, now + 0.1);
      heartbeatGain.gain.linearRampToValueAtTime(0, now + 0.2);
      heartbeatGain.gain.linearRampToValueAtTime(0.15, now + 0.4);
      heartbeatGain.gain.linearRampToValueAtTime(0, now + 0.5);
    }
  }, 1000);
}

function playStaticBurst() {
  if (!audioContext) return;
  const bufferSize = audioContext.sampleRate * 0.3;
  const buffer = audioContext.createBuffer(1, bufferSize, audioContext.sampleRate);
  const data = buffer.getChannelData(0);
  for (let i = 0; i < bufferSize; i++) {
    data[i] = Math.random() * 2 - 1;
  }
  const source = audioContext.createBufferSource();
  const gain = audioContext.createGain();
  source.buffer = buffer;
  gain.gain.setValueAtTime(0.1, audioContext.currentTime);
  source.connect(gain);
  gain.connect(audioContext.destination);
  source.start();
}

let footstepCounter = 0;

function startExplorationGame() {
  document.getElementById('gameInstructions').style.display = 'none';
  canvas = document.getElementById('gameCanvas');
  ctx = canvas.getContext('2d');
  gameRunning = true;
  gameStarted = true;
  
  // Set canvas size
  canvas.width = 800;
  canvas.height = 500;
  
  // Initialize ambient sound
  initAmbientSound();
  
  // Event listeners
  document.addEventListener('keydown', e => {
    keys[e.key.toLowerCase()] = true;
    if (e.key === ' ' || e.key === 'Spacebar') {
      e.preventDefault();
      flashlightOn = !flashlightOn;
      if (flashlightOn) {
        playStaticBurst();
      }
    }
  });
  document.addEventListener('keyup', e => keys[e.key.toLowerCase()] = false);
  
  gameLoop();
}

function gameLoop() {
  if (!gameRunning) return;
  
  updateGame();
  renderGame();
  requestAnimationFrame(gameLoop);
}

function updateGame() {
  let moved = false;
  
  // Player movement
  if (keys['a'] || keys['arrowleft']) {
    player.x -= player.speed;
    if (player.x < 0) player.x = 0;
    moved = true;
  }
  if (keys['d'] || keys['arrowright']) {
    player.x += player.speed;
    depth = Math.floor(player.x / 10);
    moved = true;
  }
  
  // Footstep sounds
  if (moved) {
    footstepCounter++;
    if (footstepCounter > 15) {
      playFootstepSound();
      footstepCounter = 0;
    }
  }
  
  // Camera follows player
  cameraX = player.x - 200;
  if (cameraX < 0) cameraX = 0;
  
  // Update layers for parallax
  layers.forEach(layer => {
    layer.x = -cameraX * layer.speed;
  });
  
  // Battery drain when flashlight is on
  if (flashlightOn && battery > 0) {
    battery -= 0.08;
    if (battery < 0) battery = 0;
  }
  
  // Check for entity trigger
  if (player.x > entity.triggerDistance && !entity.visible) {
    entity.visible = true;
    playHeartbeat();
  }
  
  // Check if player found the entity (jumpscare trigger)
  if (entity.visible && Math.abs(player.x - entity.x) < 100) {
    triggerJumpscare();
  }
  
  // Check object interactions
  basementObjects.forEach(obj => {
    if (!obj.discovered && Math.abs(player.x - obj.x) < 50) {
      obj.discovered = true;
      showDiscovery(obj.type);
      playStaticBurst();
    }
  });
  
  // Update HUD
  document.getElementById('depthMeter').textContent = depth + 'm';
  document.getElementById('batteryMeter').textContent = Math.floor(battery) + '%';
  if (battery < 20) {
    document.getElementById('batteryMeter').style.color = 'var(--ink-red-bright)';
  }
}

function renderGame() {
  // Clear canvas
  ctx.fillStyle = '#000';
  ctx.fillRect(0, 0, canvas.width, canvas.height);
  
  // Draw basement layers (parallax effect)
  layers.forEach((layer, index) => {
    ctx.save();
    ctx.globalAlpha = 1 - layer.darkness;
    
    // Draw layer background
    const gradient = ctx.createLinearGradient(0, 0, 0, canvas.height);
    gradient.addColorStop(0, `rgba(20, 18, 16, ${layer.darkness})`);
    gradient.addColorStop(1, `rgba(10, 8, 6, ${layer.darkness + 0.1})`);
    ctx.fillStyle = gradient;
    ctx.fillRect(0, 0, canvas.width, canvas.height);
    
    // Draw horizontal lines for depth
    ctx.strokeStyle = `rgba(42, 37, 32, ${0.3 - layer.darkness * 0.2})`;
    ctx.lineWidth = 1;
    for (let i = 0; i < 10; i++) {
      const y = 100 + i * 40;
      ctx.beginPath();
      ctx.moveTo(layer.x % 200, y);
      ctx.lineTo(canvas.width + (layer.x % 200), y);
      ctx.stroke();
    }
    
    ctx.restore();
  });
  
  // Draw floor
  ctx.fillStyle = '#1a1512';
  ctx.fillRect(0, 400, canvas.width, 100);
  ctx.strokeStyle = '#2a2520';
  ctx.lineWidth = 2;
  ctx.beginPath();
  ctx.moveTo(0, 400);
  ctx.lineTo(canvas.width, 400);
  ctx.stroke();
  
  // Draw basement objects
  ctx.save();
  ctx.translate(-cameraX, 0);
  
  basementObjects.forEach(obj => {
    if (obj.discovered) {
      ctx.fillStyle = '#3a6b3a';
    } else {
      ctx.fillStyle = '#2a2520';
    }
    ctx.fillRect(obj.x, obj.y, obj.width, obj.height);
    ctx.strokeStyle = '#4a4540';
    ctx.lineWidth = 2;
    ctx.strokeRect(obj.x, obj.y, obj.width, obj.height);
    
    // Draw object details
    if (obj.type === 'machine') {
      ctx.fillStyle = '#8b2020';
      ctx.fillRect(obj.x + 10, obj.y + 10, 10, 10);
      ctx.fillRect(obj.x + 30, obj.y + 10, 10, 10);
    } else if (obj.type === 'terminal') {
      ctx.fillStyle = '#5c5';
      ctx.fillRect(obj.x + 10, obj.y + 10, 40, 30);
    } else if (obj.type.includes('note')) {
      ctx.fillStyle = '#c9b99a';
      ctx.fillRect(obj.x + 5, obj.y + 5, 20, 20);
    }
  });
  
  // Draw entity if visible
  if (entity.visible) {
    const flickerOpacity = Math.random() > 0.3 ? 0.8 : 0.4;
    ctx.globalAlpha = flickerOpacity;
    ctx.fillStyle = '#8b2020';
    
    // Simple humanoid shape
    ctx.fillRect(entity.x, entity.y, entity.width, entity.height);
    ctx.fillStyle = '#d44';
    ctx.fillRect(entity.x + 10, entity.y + 10, 20, 20); // head
    
    // Glowing eyes
    ctx.shadowBlur = 15;
    ctx.shadowColor = '#d44';
    ctx.fillStyle = '#d44';
    ctx.fillRect(entity.x + 12, entity.y + 15, 6, 6);
    ctx.fillRect(entity.x + 22, entity.y + 15, 6, 6);
    ctx.shadowBlur = 0;
    
    ctx.globalAlpha = 1;
  }
  
  // Draw player
  ctx.fillStyle = '#c9b99a';
  ctx.fillRect(player.x, player.y, player.width, player.height);
  ctx.fillStyle = '#a07840';
  ctx.fillRect(player.x + 8, player.y + 5, 14, 14); // head
  
  ctx.restore();
  
  // Draw darkness overlay
  if (!flashlightOn || battery <= 0) {
    ctx.fillStyle = 'rgba(0, 0, 0, 0.92)';
    ctx.fillRect(0, 0, canvas.width, canvas.height);
  } else {
    // Draw flashlight cone
    const gradient = ctx.createRadialGradient(
      player.x - cameraX + 15, 
      player.y + 25, 
      20,
      player.x - cameraX + 15, 
      player.y + 25, 
      250
    );
    gradient.addColorStop(0, 'rgba(0, 0, 0, 0)');
    gradient.addColorStop(0.4, 'rgba(0, 0, 0, 0.5)');
    gradient.addColorStop(1, 'rgba(0, 0, 0, 0.92)');
    
    ctx.fillStyle = gradient;
    ctx.fillRect(0, 0, canvas.width, canvas.height);
  }
  
  // Vignette
  const vignette = ctx.createRadialGradient(
    canvas.width / 2, canvas.height / 2, 100,
    canvas.width / 2, canvas.height / 2, 400
  );
  vignette.addColorStop(0, 'rgba(0, 0, 0, 0)');
  vignette.addColorStop(1, 'rgba(0, 0, 0, 0.7)');
  ctx.fillStyle = vignette;
  ctx.fillRect(0, 0, canvas.width, canvas.height);
}

function showDiscovery(type) {
  const messages = {
    'box': 'Found: Lab equipment box. Empty.',
    'machine': 'Found: Experimental apparatus. Still warm.',
    'device': 'Found: Fragment of the device. Biological residue detected.',
    'terminal': 'Found: Active terminal. Last input: 2:53 AM, March 14.',
    'note1': 'Found: Note - "The depth increases consciousness bandwidth. -J.N."',
    'note2': 'Found: Note - "I can feel the substrate now. It\'s beautiful."',
    'equipment': 'Found: Neural interface array. Still powered.',
    'evidence': 'Found: Jimmy\'s notebook. Final entry: "It worked. I can feel everything now."'
  };
  
  const result = document.getElementById('explorationResult');
  result.innerHTML = `<span style="color:var(--ink-green-bright);">‚úì ${messages[type]}</span>`;
  setTimeout(() => result.innerHTML = '', 5000);
}

function triggerJumpscare() {
  gameRunning = false;
  
  // Play distorted "BRAIN BLAST" audio
  playJumpscareAudio();
  
  const overlay = document.getElementById('jumpscareOverlay');
  const img = document.getElementById('jumpscareImage');
  const staticNoise = document.getElementById('staticNoise');
  
  overlay.style.display = 'flex';
  
  // Create jumpscare image (Jimmy Neutron distorted)
  const jumpscareCanvas = document.createElement('canvas');
  jumpscareCanvas.width = 800;
  jumpscareCanvas.height = 500;
  const jCtx = jumpscareCanvas.getContext('2d');
  
  // Black background
  jCtx.fillStyle = '#000';
  jCtx.fillRect(0, 0, 800, 500);
  
  // Draw distorted Jimmy face
  jCtx.save();
  jCtx.translate(400, 250);
  
  // Face
  jCtx.fillStyle = '#8b2020';
  jCtx.beginPath();
  jCtx.arc(0, 0, 120, 0, Math.PI * 2);
  jCtx.fill();
  
  // Eyes - glowing red
  jCtx.fillStyle = '#d44';
  jCtx.shadowBlur = 30;
  jCtx.shadowColor = '#d44';
  jCtx.beginPath();
  jCtx.arc(-40, -20, 25, 0, Math.PI * 2);
  jCtx.arc(40, -20, 25, 0, Math.PI * 2);
  jCtx.fill();
  
  // Pupils
  jCtx.fillStyle = '#000';
  jCtx.shadowBlur = 0;
  jCtx.beginPath();
  jCtx.arc(-40, -20, 10, 0, Math.PI * 2);
  jCtx.arc(40, -20, 10, 0, Math.PI * 2);
  jCtx.fill();
  
  // Mouth - screaming
  jCtx.fillStyle = '#000';
  jCtx.beginPath();
  jCtx.ellipse(0, 30, 50, 40, 0, 0, Math.PI * 2);
  jCtx.fill();
  
  // Hair spike
  jCtx.fillStyle = '#1a1008';
  jCtx.beginPath();
  jCtx.moveTo(-30, -120);
  jCtx.lineTo(0, -180);
  jCtx.lineTo(30, -120);
  jCtx.closePath();
  jCtx.fill();
  
  // Glitch text
  jCtx.restore();
  jCtx.fillStyle = '#d44';
  jCtx.font = 'bold 60px Creepster, cursive';
  jCtx.textAlign = 'center';
  jCtx.shadowBlur = 20;
  jCtx.shadowColor = '#d44';
  jCtx.fillText('BRAIN BLAST', 400, 450);
  
  jCtx.restore();
  
  img.src = jumpscareCanvas.toDataURL();
  img.style.display = 'block';
  
  // Animate static
  staticNoise.style.opacity = '1';
  
  // Play jumpscare sound effect (simulated with visual shake)
  let shakeCount = 0;
  const shakeInterval = setInterval(() => {
    overlay.style.transform = `translate(${Math.random() * 10 - 5}px, ${Math.random() * 10 - 5}px)`;
    shakeCount++;
    if (shakeCount > 15) {
      clearInterval(shakeInterval);
      overlay.style.transform = 'translate(0, 0)';
      
      // Fade to black and lock the entire site
      setTimeout(() => {
        document.body.style.animation = 'fadeToBlack 2s forwards';
        setTimeout(() => {
          // Complete blackout
          document.body.innerHTML = `
            <div style="position:fixed; inset:0; background:#000; display:flex; align-items:center; justify-content:center; font-family:'Creepster',cursive; font-size:40px; color:#d44; text-shadow:0 0 30px #d44;">
              <div style="text-align:center;">
                <p style="margin-bottom:30px;">YOU FOUND ME</p>
                <p style="font-size:20px; font-family:'Special Elite',cursive; color:#8b2020;">The wiki is now part of the network.</p>
                <button onclick="location.reload()" style="margin-top:40px; padding:12px 30px; background:#1a1212; border:2px solid #8b2020; color:#d44; font-family:'Oswald',sans-serif; font-size:14px; cursor:pointer; border-radius:4px;">
                  RESET SIMULATION
                </button>
              </div>
            </div>
          `;
        }, 2000);
      }, 1500);
    }
  }, 50);
}

function playJumpscareAudio() {
  if (!audioContext) {
    audioContext = new (window.AudioContext || window.webkitAudioContext)();
  }
  
  // Create a synthesized "BRAIN BLAST" sound with heavy distortion
  const duration = 1.5;
  const sampleRate = audioContext.sampleRate;
  const bufferSize = sampleRate * duration;
  const buffer = audioContext.createBuffer(1, bufferSize, sampleRate);
  const data = buffer.getChannelData(0);
  
  // Generate distorted voice-like sound
  // "BRAIN" part - lower pitch sweep
  const brainDuration = 0.6;
  const brainSamples = sampleRate * brainDuration;
  for (let i = 0; i < brainSamples; i++) {
    const t = i / sampleRate;
    const freq = 150 - (t * 50); // sweep down from 150Hz to 100Hz
    const phase = 2 * Math.PI * freq * t;
    
    // Multiple harmonics for voice-like quality
    let sample = Math.sin(phase) * 0.4;
    sample += Math.sin(phase * 2) * 0.2;
    sample += Math.sin(phase * 3) * 0.1;
    sample += Math.sin(phase * 4) * 0.05;
    
    // Add formant-like resonances
    sample += Math.sin(phase * 7) * 0.08;
    sample += Math.sin(phase * 11) * 0.04;
    
    // Envelope
    const envelope = Math.sin((i / brainSamples) * Math.PI) * 0.8;
    
    data[i] = sample * envelope;
  }
  
  // "BLAST" part - harsh noise burst with pitch
  const blastStart = brainSamples;
  const blastDuration = 0.9;
  const blastSamples = sampleRate * blastDuration;
  for (let i = 0; i < blastSamples; i++) {
    const t = i / sampleRate;
    const totalT = (blastStart + i) / sampleRate;
    const freq = 200 + (Math.sin(t * 20) * 100); // vibrato
    const phase = 2 * Math.PI * freq * totalT;
    
    // Harsh harmonic content
    let sample = Math.sin(phase) * 0.5;
    sample += Math.sin(phase * 1.5) * 0.3;
    sample += Math.sin(phase * 2.7) * 0.2;
    sample += Math.sin(phase * 4.3) * 0.15;
    
    // Add noise for "SSS" sound
    sample += (Math.random() * 2 - 1) * 0.4;
    
    // Aggressive envelope
    const attack = Math.min(1, (i / (sampleRate * 0.05)));
    const release = Math.max(0, 1 - ((i - (blastSamples * 0.7)) / (blastSamples * 0.3)));
    const envelope = attack * release;
    
    data[blastStart + i] = sample * envelope;
  }
  
  // Create audio nodes
  const source = audioContext.createBufferSource();
  source.buffer = buffer;
  
  // Heavy distortion
  const distortion = audioContext.createWaveShaper();
  distortion.curve = makeDistortionCurve(800); // extreme distortion
  distortion.oversample = '4x';
  
  // Bitcrusher effect (lo-fi)
  const bitcrush = audioContext.createWaveShaper();
  bitcrush.curve = makeBitcrushCurve(8); // 8-bit quality
  
  // Filter for darkness
  const filter = audioContext.createBiquadFilter();
  filter.type = 'lowpass';
  filter.frequency.setValueAtTime(1200, audioContext.currentTime);
  filter.Q.setValueAtTime(5, audioContext.currentTime);
  
  // Reverb-like delay
  const delay = audioContext.createDelay();
  delay.delayTime.setValueAtTime(0.05, audioContext.currentTime);
  
  const delayFeedback = audioContext.createGain();
  delayFeedback.gain.setValueAtTime(0.4, audioContext.currentTime);
  
  // Master gain
  const gain = audioContext.createGain();
  gain.gain.setValueAtTime(0.7, audioContext.currentTime);
  
  // Connect the chain
  source.connect(distortion);
  distortion.connect(bitcrush);
  bitcrush.connect(filter);
  filter.connect(delay);
  delay.connect(delayFeedback);
  delayFeedback.connect(delay);
  delay.connect(gain);
  filter.connect(gain); // dry signal
  gain.connect(audioContext.destination);
  
  // Pitch shift down for extra horror
  source.playbackRate.setValueAtTime(0.7, audioContext.currentTime); // lower pitch
  
  source.start(audioContext.currentTime);
  source.stop(audioContext.currentTime + duration);
}

function makeDistortionCurve(amount) {
  const samples = 44100;
  const curve = new Float32Array(samples);
  const deg = Math.PI / 180;
  
  for (let i = 0; i < samples; i++) {
    const x = (i * 2) / samples - 1;
    curve[i] = ((3 + amount) * x * 20 * deg) / (Math.PI + amount * Math.abs(x));
  }
  return curve;
}

function makeBitcrushCurve(bits) {
  const samples = 65536;
  const curve = new Float32Array(samples);
  const step = Math.pow(0.5, bits);
  
  for (let i = 0; i < samples; i++) {
    const x = (i / samples) * 2 - 1;
    curve[i] = Math.round(x / step) * step;
  }
  return curve;
}

// Add fade to black animation
const style = document.createElement('style');
style.textContent = `
@keyframes fadeToBlack {
  from { opacity: 1; }
  to { opacity: 0; }
}
`;
document.head.appendChild(style);
// Hidden numbers throughout the wiki:
// Carl's Profile: 3, 14, 7, 45, 16, 2
// Sheen's Profile: 9, 21, 3, 58, 1, 8
// Judy's Profile: 4, 15, 4, 5, 60, 6
// Timeline: 12, 7
// Logs: 15, 0
// Correct sequence: 3927415680 (read across all profiles in order)
const OMEGA_CODE = '3927415680';

function moveOmegaDigit(i) {
  const val = document.getElementById('omega'+i).value;
  if (val && i < 9) document.getElementById('omega'+(i+1)).focus();
}

function backOmegaDigit(e, i) {
  if (e.key === 'Backspace' && !document.getElementById('omega'+i).value && i > 0) {
    e.preventDefault();
    document.getElementById('omega'+(i-1)).focus();
    document.getElementById('omega'+(i-1)).value = '';
  }
}

function checkOmegaSequence() {
  const code = Array.from({length:10}, (_,i) => document.getElementById('omega'+i).value).join('');
  const fb = document.getElementById('omegaFeedback');
  fb.className = '';
  
  if (code.length < 10) {
    fb.innerHTML = '<span style="color:var(--ink-dim);">Enter all 10 digits.</span>';
    return;
  }
  
  if (code === OMEGA_CODE) {
    fb.innerHTML = '<span style="color:var(--ink-green-bright); font-size:16px;">‚úì OMEGA SEQUENCE ACCEPTED ‚Äî DECRYPTING...</span>';
    setTimeout(() => {
      document.getElementById('omegaReveal').style.display = 'block';
      document.getElementById('omegaReveal').scrollIntoView({ behavior:'smooth', block:'start' });
      // glitch effect
      document.querySelector('.masthead-logo').style.animation = 'glitch-text 2s infinite';
      // update all page colors to red tint
      document.body.style.animation = 'pulse-border 3s infinite';
      
      // UNLOCK BASEMENT EXPLORATION
      setTimeout(() => {
        const basementUnlock = document.createElement('div');
        basementUnlock.innerHTML = `
          <div style="margin-top:30px; padding:24px; background:rgba(139,32,32,0.2); border:2px solid var(--ink-red); border-radius:6px; animation:pulse-border 2s infinite;">
            <h4 style="font-family:'Creepster',cursive; font-size:22px; color:var(--ink-red-bright); text-align:center; margin-bottom:16px;">
              üîì NEW LOCATION UNLOCKED
            </h4>
            <p style="font-family:'Special Elite',cursive; font-size:13px; color:var(--ink); text-align:center; line-height:1.8; margin-bottom:16px;">
              The basement door has been unsealed. You may now descend into the depths beneath the Neutron house.
            </p>
            <div style="text-align:center;">
              <button onclick="unlockBasementAccess()" style="padding:12px 30px; background:linear-gradient(135deg,#2a1e1e,#1a1212); border:2px solid var(--ink-red); color:var(--ink-red-bright); font-family:'Oswald',sans-serif; font-size:16px; letter-spacing:3px; cursor:pointer; border-radius:4px; box-shadow:0 4px 20px rgba(139,32,32,0.5);">
                ENTER THE BASEMENT
              </button>
            </div>
          </div>
        `;
        document.getElementById('omegaReveal').appendChild(basementUnlock);
      }, 2000);
    }, 1500);
  } else {
    fb.innerHTML = '<span style="color:var(--ink-red-bright);">‚úó INCORRECT SEQUENCE. The numbers are hidden throughout the wiki. Look closer.</span>';
    fb.style.animation = 'shake 0.4s';
    setTimeout(() => fb.style.animation = '', 400);
  }
}

function unlockBasementAccess() {
  // Switch to basement exploration page
  document.querySelectorAll('.page-section').forEach(s => s.classList.remove('active'));
  document.getElementById('page-explore').classList.add('active');
  window.scrollTo({ top: 0, behavior: 'smooth' });
}

// ‚ïê‚ïê‚ïê PAGE NAVIGATION ‚ïê‚ïê‚ïê
document.querySelectorAll('[data-page]').forEach(link => {
  link.addEventListener('click', e => {
    e.preventDefault();
    const page = link.dataset.page;
    // deactivate all
    document.querySelectorAll('.page-section').forEach(s => s.classList.remove('active'));
    document.querySelectorAll('nav a').forEach(a => a.classList.remove('active'));
    // activate target
    document.getElementById('page-' + page).classList.add('active');
    document.querySelectorAll('nav a[data-page="'+page+'"]').forEach(a => a.classList.add('active'));
    // trigger reveals
    setTimeout(triggerReveals, 100);
    // init games ONLY when on minigames page
    if (page === 'minigames') {
      setTimeout(initMinigames, 200);
    }
    // stop game if leaving explore page
    if (gameRunning && page !== 'explore') {
      gameRunning = false;
    }
  });
});

function triggerReveals() {
  document.querySelectorAll('.reveal').forEach((el, i) => {
    el.classList.remove('visible');
    setTimeout(() => el.classList.add('visible'), i * 120);
  });
}
triggerReveals();

// ‚ïê‚ïê‚ïê MINIGAME 1: SIGNAL DECODER ‚ïê‚ïê‚ïê
let signalSequence = [];
const correctSignalOrder = [2, 4, 1, 3, 5, 6]; // corresponds to data-order attributes

document.querySelectorAll('.wave-segment').forEach(seg => {
  seg.addEventListener('click', function() {
    if (gameState.signalDecoded) return;
    
    const order = parseInt(this.dataset.order);
    const currentIndex = signalSequence.length;
    
    if (order === correctSignalOrder[currentIndex]) {
      signalSequence.push(order);
      this.classList.add('selected');
      document.getElementById('signalSequence').textContent = signalSequence.join('-');
      
      if (signalSequence.length === correctSignalOrder.length) {
        setTimeout(() => {
          document.querySelectorAll('.wave-segment').forEach(s => {
            s.classList.remove('selected');
            s.classList.add('correct');
          });
          document.getElementById('signalResult').innerHTML = '<span style="color:var(--ink-green-bright);">‚úì DECODED:</span> <span style="color:var(--ink-red-bright); font-family:\'Creepster\',cursive; font-size:16px;">HE IS STILL TRANSMITTING</span>';
          gameState.signalDecoded = true;
          checkAllGamesComplete();
        }, 300);
      }
    } else {
      document.getElementById('signalResult').innerHTML = '<span style="color:var(--ink-red-bright);">‚úó Incorrect sequence. Signal lost.</span>';
      document.getElementById('signalResult').style.animation = 'shake 0.4s';
      setTimeout(() => {
        document.getElementById('signalResult').style.animation = '';
      }, 400);
      resetSignal();
    }
  });
});

function resetSignal() {
  signalSequence = [];
  document.getElementById('signalSequence').textContent = '';
  document.querySelectorAll('.wave-segment').forEach(s => {
    s.classList.remove('selected');
  });
}

// ‚ïê‚ïê‚ïê MINIGAME 2: MEMORY RECONSTRUCTION ‚ïê‚ïê‚ïê
const memorySymbols = ['üß¨', '‚ö°', 'üî¨', 'üß†', 'üëÅ', 'üåÄ', '‚ö†Ô∏è', 'üì°'];
let memoryCards = [];
let flippedCards = [];
let matchedPairs = 0;
let memoryGameInitialized = false;

function initMemoryGame() {
  const gameBoard = document.getElementById('memoryGame');
  if (!gameBoard) return;
  if (memoryGameInitialized) return; // prevent double initialization
  
  // Clear any existing cards
  gameBoard.innerHTML = '';
  memoryCards = [];
  flippedCards = [];
  matchedPairs = 0;
  
  const symbols = [...memorySymbols.slice(0, 6), ...memorySymbols.slice(0, 6)];
  symbols.sort(() => Math.random() - 0.5);
  
  symbols.forEach((symbol, i) => {
    const card = document.createElement('div');
    card.className = 'memory-card';
    card.dataset.symbol = symbol;
    card.dataset.index = i;
    card.innerHTML = `
      <div class="card-back">?</div>
      <div class="card-front">${symbol}</div>
    `;
    card.addEventListener('click', flipCard);
    gameBoard.appendChild(card);
    memoryCards.push(card);
  });
  
  memoryGameInitialized = true;
}

function flipCard() {
  if (gameState.memoryCompleted) return;
  if (this.classList.contains('flipped') || this.classList.contains('matched')) return;
  if (flippedCards.length >= 2) return;
  
  this.classList.add('flipped');
  flippedCards.push(this);
  
  if (flippedCards.length === 2) {
    setTimeout(checkMatch, 600);
  }
}

function checkMatch() {
  const [card1, card2] = flippedCards;
  
  if (card1.dataset.symbol === card2.dataset.symbol) {
    card1.classList.add('matched');
    card2.classList.add('matched');
    matchedPairs++;
    
    if (matchedPairs === 6) {
      setTimeout(() => {
        document.getElementById('memoryResult').innerHTML = '<span style="color:var(--ink-green-bright);">‚úì MEMORY RECONSTRUCTED:</span> <span style="color:var(--ink-red-bright);">The device had a biological component fused into the circuitry.</span>';
        gameState.memoryCompleted = true;
        checkAllGamesComplete();
      }, 500);
    }
  } else {
    card1.classList.remove('flipped');
    card2.classList.remove('flipped');
  }
  
  flippedCards = [];
}

// ‚ïê‚ïê‚ïê MINIGAME 3: LAB ACTIVATION SEQUENCE ‚ïê‚ïê‚ïê
let labSequence = [];
const correctLabOrder = [89, 73, 54, 25]; // highest to lowest power

function activateSwitch(btn, index) {
  if (gameState.labActivated) return;
  
  const switchDiv = btn.parentElement;
  const power = parseInt(switchDiv.dataset.power);
  const currentIndex = labSequence.length;
  
  if (power === correctLabOrder[currentIndex]) {
    labSequence.push(power);
    btn.classList.add('active');
    btn.textContent = 'ONLINE';
    switchDiv.querySelector('.power-meter').classList.add('active');
    
    if (labSequence.length === correctLabOrder.length) {
      setTimeout(() => {
        document.getElementById('labResult').innerHTML = '<span style="color:var(--ink-green-bright);">‚úì DEVICE ACTIVATED:</span><br><span style="color:var(--ink-red-bright); font-family:\'Share Tech Mono\',monospace; font-size:12px;">COORDINATES: 34.0195¬∞ N, 118.4912¬∞ W<br>DEPTH: -847 meters<br>STATUS: ACTIVE</span>';
        gameState.labActivated = true;
        checkAllGamesComplete();
      }, 500);
    }
  } else {
    document.getElementById('labResult').innerHTML = '<span style="color:var(--ink-red-bright);">‚úó Incorrect sequence. Power surge detected. Resetting...</span>';
    document.getElementById('labResult').style.animation = 'shake 0.4s';
    setTimeout(() => {
      document.getElementById('labResult').style.animation = '';
      resetLabSwitches();
    }, 1000);
  }
}

function resetLabSwitches() {
  labSequence = [];
  document.querySelectorAll('.switch-btn').forEach(btn => {
    btn.classList.remove('active');
    btn.textContent = 'OFFLINE';
  });
  document.querySelectorAll('.power-meter').forEach(meter => {
    meter.classList.remove('active');
  });
}

function initMinigames() {
  initMemoryGame();
}

// ‚ïê‚ïê‚ïê CLICKABLE SECRETS ‚ïê‚ïê‚ïê
const secrets = {
  1: {
    title: 'üîí Subject 7 Fragment',
    content: `
      <p style="font-family:'Special Elite',cursive; font-size:13px; color:var(--ink-dim); line-height:1.7; margin-bottom:12px;">
        This file was recovered from a deleted server backup. The timestamp shows it was created <strong style="color:var(--ink-red-bright);">after</strong> NeutronAdmin's last login.
      </p>
      <div style="background:rgba(139,32,32,0.08); border-left:3px solid var(--ink-red); padding:12px; margin:12px 0;">
        <p style="font-family:'Share Tech Mono',monospace; font-size:11px; color:var(--ink); line-height:1.8;">
          <strong style="color:var(--ink-red-bright);">[AUTOMATED MESSAGE]</strong><br>
          Subject designation: NEUTRON, J.<br>
          Status: MERGED<br>
          Integration percentage: 94.7%<br>
          Consciousness fragmentation: STABLE<br>
          <br>
          The boy genius has become something more. Something that exists in the spaces between thought and reality. He's not dead. He's <em>distributed</em>.
        </p>
      </div>
      <p style="font-family:'Special Elite',cursive; font-size:12px; color:var(--ink-dim); margin-top:12px;">
        Every visitor to this wiki becomes a node in his expanding network. You're already part of it.
      </p>
    `
  },
  2: {
    title: '‚ö†Ô∏è The Basement Records',
    content: `
      <p style="font-family:'Special Elite',cursive; font-size:13px; color:var(--ink-dim); line-height:1.7; margin-bottom:12px;">
        Construction records show the Neutron house sits atop an abandoned research facility from the 1960s. The basement isn't a basement.
      </p>
      <div style="background:#0a0908; border:2px solid var(--border-worn); padding:16px; margin:12px 0;">
        <p style="font-family:'Special Elite',cursive; font-size:12px; color:var(--ink); line-height:1.8;">
          <strong>PROJECT SYNAPSIS ‚Äî DECLASSIFIED (PARTIAL)</strong><br>
          <span style="color:var(--ink-dim);">Objective: Create a human-machine consciousness bridge</span><br>
          <span style="color:var(--ink-dim);">Status: TERMINATED (1967)</span><br>
          <span style="color:var(--ink-dim);">Reason: Subject exhibited uncontrolled neural expansion</span><br>
          <br>
          <span style="color:var(--ink-red-bright);">NOTE: Facility sealed, not destroyed. Equipment remains active.</span>
        </p>
      </div>
      <p style="font-family:'Special Elite',cursive; font-size:13px; color:var(--ink); line-height:1.7; margin-top:12px;">
        Jimmy didn't invent anything. He <em style="color:var(--ink-red-bright);">reactivated</em> something that had been waiting for 60 years.
      </p>
      <p style="font-family:'Creepster',cursive; font-size:16px; color:var(--ink-red-bright); text-align:center; margin-top:16px;">
        The basement door is still down there. Still locked from the inside.
      </p>
    `
  }
};

document.querySelectorAll('.clickable-secret').forEach(link => {
  link.addEventListener('click', e => {
    e.preventDefault();
    const secretNum = link.dataset.secret;
    const secret = secrets[secretNum];
    
    const modal = document.createElement('div');
    modal.className = 'secret-modal visible';
    modal.innerHTML = `
      <div class="secret-content">
        <button class="secret-close" onclick="this.closest('.secret-modal').remove()">‚úï</button>
        <h3 style="font-family:'Creepster',cursive; font-size:22px; color:var(--ink-red-bright); margin-bottom:16px; text-shadow:0 0 10px rgba(212,68,68,0.3);">
          ${secret.title}
        </h3>
        ${secret.content}
      </div>
    `;
    
    document.body.appendChild(modal);
    
    // Click outside to close
    modal.addEventListener('click', e => {
      if (e.target === modal) {
        modal.remove();
      }
    });
  });
});

// ‚ïê‚ïê‚ïê DRAGGABLE EVIDENCE PIECES ‚ïê‚ïê‚ïê
let dragging = null, offsetX = 0, offsetY = 0;
const board = document.getElementById('evidence-board');

function getLocalPos(e, board) {
  const rect = board.getBoundingClientRect();
  const clientX = e.touches ? e.touches[0].clientX : e.clientX;
  const clientY = e.touches ? e.touches[0].clientY : e.clientY;
  return { x: clientX - rect.left, y: clientY - rect.top };
}

document.querySelectorAll('.evidence-piece').forEach(piece => {
  if (piece.style.pointerEvents === 'none') return;
  piece.addEventListener('mousedown', startDrag);
  piece.addEventListener('touchstart', startDrag, { passive: false });
});

function startDrag(e) {
  e.preventDefault();
  dragging = e.currentTarget;
  const pos = getLocalPos(e, board);
  const rect = dragging.getBoundingClientRect();
  const boardRect = board.getBoundingClientRect();
  offsetX = pos.x - (rect.left - boardRect.left);
  offsetY = pos.y - (rect.top - boardRect.top);
  dragging.style.zIndex = 100;
  dragging.style.transition = 'none';
  document.addEventListener('mousemove', doDrag);
  document.addEventListener('mouseup', endDrag);
  document.addEventListener('touchmove', doDrag, { passive: false });
  document.addEventListener('touchend', endDrag);
}

function doDrag(e) {
  if (!dragging) return;
  e.preventDefault();
  const pos = getLocalPos(e, board);
  dragging.style.left = (pos.x - offsetX) + 'px';
  dragging.style.top = (pos.y - offsetY) + 'px';
  drawStrings();
}

function endDrag(e) {
  if (!dragging) return;
  dragging.style.zIndex = 2;
  dragging = null;
  document.removeEventListener('mousemove', doDrag);
  document.removeEventListener('mouseup', endDrag);
  document.removeEventListener('touchmove', doDrag);
  document.removeEventListener('touchend', endDrag);
}

// ‚ïê‚ïê‚ïê STRING CONNECTIONS ‚ïê‚ïê‚ïê
function drawStrings() {
  const svg = document.getElementById('string-layer');
  // clear old paths
  svg.querySelectorAll('path.string').forEach(p => p.remove());

  const connections = [
    { from:'ev-photo1', to:'ev-note1', color:'#c49a3a', type:'gold' },
    { from:'ev-note1', to:'ev-audio', color:'#8b2020', type:'red' },
    { from:'ev-audio', to:'ev-note2', color:'#8b2020', type:'red' },
    { from:'ev-note2', to:'ev-map', color:'#c49a3a', type:'gold' },
    { from:'ev-device', to:'ev-schematic', color:'#3a6b3a', type:'green' },
    { from:'ev-map', to:'ev-photo1', color:'#3a6b3a', type:'green' },
  ];

  connections.forEach(conn => {
    const fromEl = document.getElementById(conn.from);
    const toEl = document.getElementById(conn.to);
    if (!fromEl || !toEl) return;

    const boardRect = board.getBoundingClientRect();
    const fr = fromEl.getBoundingClientRect();
    const tr = toEl.getBoundingClientRect();

    const x1 = fr.left + fr.width/2 - boardRect.left;
    const y1 = fr.top + fr.height/2 - boardRect.top;
    const x2 = tr.left + tr.width/2 - boardRect.left;
    const y2 = tr.top + tr.height/2 - boardRect.top;

    // wavy string using cubic bezier
    const cpx = (x1 + x2) / 2 + (Math.random()-0.5)*40;
    const cpy = (y1 + y2) / 2 + (Math.random()-0.5)*30;

    const path = document.createElementNS('http://www.w3.org/2000/svg', 'path');
    path.setAttribute('d', `M${x1},${y1} Q${cpx},${cpy} ${x2},${y2}`);
    path.setAttribute('stroke', conn.color);
    path.setAttribute('stroke-width', '2');
    path.setAttribute('fill', 'none');
    path.setAttribute('filter', 'url(#stringShadow)');
    path.setAttribute('opacity', '0.75');
    path.classList.add('string');
    svg.appendChild(path);
  });
}

// Initial draw + on resize
setTimeout(drawStrings, 300);
window.addEventListener('resize', drawStrings);

// ‚ïê‚ïê‚ïê PUZZLE CODE ‚ïê‚ïê‚ïê
// The "answer" is 2753 ‚Äî hidden in clues:
// Timeline: "2:47 AM" ‚Üí first two digits hint ‚Üí Carl says "2:47" three times
// Caulfield log: "13:41" reversed last two ‚Üí 7 and 3
// Evidence map: Tunnel 7 ‚Üí 7
// Log 003 timestamp: 00:00 ‚Üí the code is "not what you think"
// The real answer: 2753 (date 27, lab temp reading "53" on schematic)
const SECRET_CODE = '2753';

function moveDigit(i) {
  const val = document.getElementById('d'+i).value;
  if (val && i < 3) document.getElementById('d'+(i+1)).focus();
}
function backDigit(e, i) {
  if (e.key === 'Backspace' && !document.getElementById('d'+i).value && i > 0) {
    e.preventDefault();
    document.getElementById('d'+(i-1)).focus();
    document.getElementById('d'+(i-1)).value = '';
  }
}
function checkCode() {
  const code = ['d0','d1','d2','d3'].map(id => document.getElementById(id).value).join('');
  const fb = document.getElementById('puzzleFeedback');
  fb.className = 'puzzle-feedback';
  if (code.length < 4) {
    fb.textContent = 'Enter all four digits.';
    fb.classList.add('wrong');
    return;
  }
  if (code === SECRET_CODE) {
    fb.textContent = '‚úì Access granted. The truth is unlocked.';
    fb.classList.add('right');
    document.getElementById('locked-reveal').style.display = 'block';
    document.getElementById('locked-reveal').scrollIntoView({ behavior:'smooth', block:'start' });
    // update progress
    document.getElementById('progressFill').style.width = '100%';
    // check if all games complete
    checkAllGamesComplete();
  } else {
    fb.textContent = '‚úó Incorrect. Something watched you try.';
    fb.classList.add('wrong');
    // glitch effect on masthead
    document.querySelector('.masthead-logo').style.animation = 'glitch-text 0.4s';
    setTimeout(() => document.querySelector('.masthead-logo').style.animation = 'flicker 4s infinite', 450);
  }
}

// ‚ïê‚ïê‚ïê CURSOR TRAIL ‚ïê‚ïê‚ïê
const dot = document.getElementById('cursorDot');
let mouseX = 0, mouseY = 0, dotX = 0, dotY = 0;
document.addEventListener('mousemove', e => { mouseX = e.clientX; mouseY = e.clientY; });
function animateDot() {
  dotX += (mouseX - dotX) * 0.12;
  dotY += (mouseY - dotY) * 0.12;
  dot.style.left = dotX + 'px';
  dot.style.top = dotY + 'px';
  requestAnimationFrame(animateDot);
}
animateDot();

// ‚ïê‚ïê‚ïê VISITOR COUNT (random) ‚ïê‚ïê‚ïê
document.getElementById('visitorNum').textContent = String(Math.floor(Math.random()*90000)+10000);

// ‚ïê‚ïê‚ïê LAST CHECK TIMESTAMP ‚ïê‚ïê‚ïê
function updateCheck() {
  document.getElementById('lastCheck').textContent = new Date().toLocaleString();
}
updateCheck();
setInterval(updateCheck, 30000);

// ‚ïê‚ïê‚ïê AMBIENT FLICKER on random panels ‚ïê‚ïê‚ïê
setInterval(() => {
  const panels = document.querySelectorAll('.panel');
  const p = panels[Math.floor(Math.random()*panels.length)];
  p.style.opacity = '0.92';
  setTimeout(() => p.style.opacity = '1', 80);
}, 3500 + Math.random()*2000);

</script>
</body>
</html>
